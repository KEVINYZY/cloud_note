/*
 RequireJS domReady 2.0.1 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/requirejs/domReady for details
*/
define("domReady",[],function(){function a(){if(!d){d=!0;c&&clearInterval(c);var a=e;if(d&&a.length){e=[];var b;for(b=0;b<a.length;b+=1)a[b](h)}}}function b(a){d?a(h):e.push(a);return b}var k,f,c,g="undefined"!==typeof window&&window.document,d=!g,h=g?document:null,e=[];if(g){if(document.addEventListener)document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1);else if(window.attachEvent){window.attachEvent("onload",a);f=document.createElement("div");try{k=null===window.frameElement}catch(l){}f.doScroll&&
k&&window.external&&(c=setInterval(function(){try{f.doScroll(),a()}catch(b){}},30))}"complete"===document.readyState&&a()}b.version="2.0.1";b.load=function(a,d,c,e){e.isBuild?c(null):b(c)};return b});require(["jquery","domReady!"],function(a){a("#switch-link").click(function(b){a("#switch-form").submit()})});define("MinimalFormFrame",function(){});

/*
 RequireJS domReady 2.0.1 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/requirejs/domReady for details
 RequireJS text 2.0.10 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/requirejs/text for details

 Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 Build: `lodash modern -o ./dist/lodash.js`
 Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 Available under MIT license <http://lodash.com/license>
*/
define("en-locale",[],function(){var c={DEFAULT_LOCALE:"en",getLocale:function(){var p=document.getElementsByName("en:locale");return p=p&&0!=p.length?escape(p.item(0).content):c.DEFAULT_LOCALE}};return c});
(function(c,p){"function"===typeof define&&define.amd?define("plurr",[],p):"object"===typeof module&&module.exports?module.exports=p():c.Plurr=p()})(this,function(){function c(c,h){for(prop in h)c.hasOwnProperty(prop)||(c[prop]=h[prop])}return function(p){var h=p||{};c(h,{locale:"en",autoPlurals:!0,strict:!0});var b={ach:function(a){return 0},af:function(a){return 1!=a?1:0},ak:function(a){return 1<a?1:0},am:function(a){return 1<a?1:0},an:function(a){return 1!=a?1:0},ar:function(a){return 0==a?0:1==
a?1:2==a?2:3<=a%100&&10>=a%100?3:11<=a%100?4:5},arn:function(a){return 1<a?1:0},ast:function(a){return 1!=a?1:0},ay:function(a){return 0},az:function(a){return 1!=a?1:0},be:function(a){return 1==a%10&&11!=a%100?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2},bg:function(a){return 1!=a?1:0},bn:function(a){return 1!=a?1:0},bo:function(a){return 0},br:function(a){return 1<a?1:0},bs:function(a){return 1==a%10&&11!=a%100?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2},ca:function(a){return 1!=a?1:0},cgg:function(a){return 0},
cs:function(a){return 1==a?0:2<=a&&4>=a?1:2},csb:function(a){return 1==a?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2},cy:function(a){return 1==a?0:2==a?1:8!=a&&11!=a?2:3},da:function(a){return 1!=a?1:0},de:function(a){return 1!=a?1:0},dz:function(a){return 0},el:function(a){return 1!=a?1:0},en:function(a){return 1!=a?1:0},eo:function(a){return 1!=a?1:0},es:function(a){return 1!=a?1:0},"es-ar":function(a){return 1!=a?1:0},et:function(a){return 1!=a?1:0},eu:function(a){return 1!=a?1:0},fa:function(a){return 0},
fi:function(a){return 1!=a?1:0},fil:function(a){return 1<a?1:0},fo:function(a){return 1!=a?1:0},fr:function(a){return 1<a?1:0},fur:function(a){return 1!=a?1:0},fy:function(a){return 1!=a?1:0},ga:function(a){return 1==a?0:2==a?1:7>a?2:11>a?3:4},gl:function(a){return 1!=a?1:0},gu:function(a){return 1!=a?1:0},gun:function(a){return 1<a?1:0},ha:function(a){return 1!=a?1:0},he:function(a){return 1!=a?1:0},hi:function(a){return 1!=a?1:0},hy:function(a){return 0},hr:function(a){return 1==a%10&&11!=a%100?
0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2},hu:function(a){return 1!=a?1:0},ia:function(a){return 1!=a?1:0},id:function(a){return 0},is:function(a){return 1!=a%10||11==a%100},it:function(a){return 1!=a?1:0},ja:function(a){return 0},jv:function(a){return 0!=a?1:0},ka:function(a){return 0},kk:function(a){return 0},km:function(a){return 0},kn:function(a){return 1!=a?1:0},ko:function(a){return 0},ku:function(a){return 1!=a?1:0},kw:function(a){return 1==a?0:2==a?1:3==a?2:3},ky:function(a){return 0},
lb:function(a){return 1!=a},ln:function(a){return 1<a?1:0},lo:function(a){return 0},lt:function(a){return 1==a%10&&11!=a%100?0:2<=a%10&&(10>a%100||20<=a%100)?1:2},lv:function(a){return 1==a%10&&11!=a%100?0:0!=a?1:2},mfe:function(a){return 1<a?1:0},mg:function(a){return 1<a?1:0},mi:function(a){return 1<a?1:0},mk:function(a){return 1==a||1==a%10?0:1},ml:function(a){return 1!=a?1:0},mn:function(a){return 1!=a?1:0},mr:function(a){return 1!=a?1:0},ms:function(a){return 0},mt:function(a){return 1==a?0:
0==a||1<a%100&&11>a%100?1:10<a%100&&20>a%100?2:3},nah:function(a){return 1!=a?1:0},nap:function(a){return 1!=a?1:0},nb:function(a){return 1!=a?1:0},ne:function(a){return 1!=a?1:0},nl:function(a){return 1!=a?1:0},se:function(a){return 1!=a?1:0},nn:function(a){return 1!=a?1:0},no:function(a){return 1!=a?1:0},nso:function(a){return 1!=a?1:0},oc:function(a){return 1<a?1:0},or:function(a){return 1!=a?1:0},ps:function(a){return 1!=a?1:0},pa:function(a){return 1!=a?1:0},pap:function(a){return 1!=a?1:0},
pl:function(a){return 1==a?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2},pms:function(a){return 1!=a?1:0},pt:function(a){return 1!=a?1:0},"pt-br":function(a){return 1<a?1:0},rm:function(a){return 1!=a},ro:function(a){return 1==a?0:0==a||0<a%100&&20>a%100?1:2},ru:function(a){return 1==a%10&&11!=a%100?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2},sco:function(a){return 1!=a?1:0},si:function(a){return 1!=a?1:0},sk:function(a){return 1==a?0:2<=a&&4>=a?1:2},sl:function(a){return 1==a%100?1:2==a%100?
2:3==a%100||4==a%100?3:0},so:function(a){return 1!=a?1:0},son:function(a){return 0},sq:function(a){return 1!=a?1:0},sr:function(a){return 1==a%10&&11!=a%100?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2},su:function(a){return 0},sw:function(a){return 1!=a?1:0},sv:function(a){return 1!=a?1:0},ta:function(a){return 1!=a?1:0},te:function(a){return 1!=a?1:0},tg:function(a){return 1!=a?1:0},ti:function(a){return 1<a?1:0},th:function(a){return 0},tk:function(a){return 1!=a?1:0},tr:function(a){return 0},
tt:function(a){return 0},ug:function(a){return 0},uk:function(a){return 1==a%10&&11!=a%100?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2},ur:function(a){return 1!=a?1:0},uz:function(a){return 0},vi:function(a){return 0},wa:function(a){return 1<a?1:0},zh:function(a){return 0},"zh-personal":function(a){return 1<a?1:0}};this.setLocale=function(a){this.plural=b[a]};this.format=function(a,g,d){if("object"!=typeof g)throw new TypeError("'params' is not a hash");if("undefined"!=typeof d&&"object"!=typeof d)throw new TypeError("'options' is not a hash");
d=d||{};var z="locale"in d?b[d.locale]||b.en:this.plural;c(d,h);var p=!!d.strict,q=!!d.autoPlurals;d=d.callback;a=a.split(/([\{\}])/);for(var w=[""],s=0,u=0,y=a.length;u<y;u++){var m=a[u];if("{"==m)s++,w.push("");else{if("}"==m){s--;if(0>s)throw new SyntaxError("Unmatched } found");var m=w.pop(),x=m.indexOf(":");if(p&&0==x)throw new TypeError("Empty placeholder name");var k;k=-1==x?m:m.substr(0,x);if(!(k in g)){var n=k.indexOf("_PLURAL");if(q&&-1!=n&&n==k.length-7){n=k.substr(0,n);if(p&&!(n in g))throw new TypeError("Neither '"+
k+"' nor '"+n+"' are defined");var t=parseInt(g[n]);if(t!=g[n]||0>t){if(p)throw new RangeError("Value of '"+n+"' is not a zero or positive integer number");t=0}g[k]=z(t)}else if(d)g[k]=d(k);else if(p)throw new TypeError("'"+k+"' not defined");}if(-1==x)m=g[k];else{t=m.length;if(p&&x==t-1)throw new TypeError("Empty list of variants");n=parseInt(g[k]);if(n!=g[k]||0>n){if(p)throw new RangeError("Value of '"+k+"' is not a zero or positive integer number");n=0}k=0;for(var x=x+1,A=-1;-1!=(A=m.indexOf("|",
A+1));)k++,k<=n?x=A+1:k==n+1&&(t=A);m=m.substr(x,t-x)}}w[w.length-1]+=m}}if(0<s)throw new SyntaxError("Unmatched { found");return w[0]};this.setLocale(h.locale||"en")}});var JSON;JSON||(JSON={});
(function(){function c(a){return 10>a?"0"+a:a}function p(d){a.lastIndex=0;return a.test(d)?'"'+d.replace(a,function(a){var d=z[a];return"string"===typeof d?d:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+d+'"'}function h(a,w){var s,b,y,m,x=g,k,n=w[a];n&&"object"===typeof n&&"function"===typeof n.toJSON&&(n=n.toJSON(a));"function"===typeof B&&(n=B.call(w,a,n));switch(typeof n){case "string":return p(n);case "number":return isFinite(n)?String(n):"null";case "boolean":case "null":return String(n);
case "object":if(!n)return"null";g+=d;k=[];if("[object Array]"===Object.prototype.toString.apply(n)){m=n.length;for(s=0;s<m;s+=1)k[s]=h(s,n)||"null";y=0===k.length?"[]":g?"[\n"+g+k.join(",\n"+g)+"\n"+x+"]":"["+k.join(",")+"]";g=x;return y}if(B&&"object"===typeof B)for(m=B.length,s=0;s<m;s+=1)"string"===typeof B[s]&&(b=B[s],(y=h(b,n))&&k.push(p(b)+(g?": ":":")+y));else for(b in n)Object.prototype.hasOwnProperty.call(n,b)&&(y=h(b,n))&&k.push(p(b)+(g?": ":":")+y);y=0===k.length?"{}":g?"{\n"+g+k.join(",\n"+
g)+"\n"+x+"}":"{"+k.join(",")+"}";g=x;return y}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+c(this.getUTCMonth()+1)+"-"+c(this.getUTCDate())+"T"+c(this.getUTCHours())+":"+c(this.getUTCMinutes())+":"+c(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var b=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
a=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g,d,z={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},B;"function"!==typeof JSON.stringify&&(JSON.stringify=function(a,w,b){var u;d=g="";if("number"===typeof b)for(u=0;u<b;u+=1)d+=" ";else"string"===typeof b&&(d=b);if((B=w)&&"function"!==typeof w&&("object"!==typeof w||"number"!==typeof w.length))throw Error("JSON.stringify");return h("",{"":a})});
"function"!==typeof JSON.parse&&(JSON.parse=function(a,w){function d(a,b){var x,k,n=a[b];if(n&&"object"===typeof n)for(x in n)Object.prototype.hasOwnProperty.call(n,x)&&(k=d(n,x),void 0!==k?n[x]=k:delete n[x]);return w.call(a,b,n)}var u;a=String(a);b.lastIndex=0;b.test(a)&&(a=a.replace(b,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return u=eval("("+a+")"),"function"===typeof w?d({"":u},""):u;throw new SyntaxError("JSON.parse");})})();define("json2",function(){});
define("domReady",[],function(){function c(){if(!d){d=!0;a&&clearInterval(a);var w=B;if(d&&w.length){B=[];var b;for(b=0;b<w.length;b+=1)w[b](z)}}}function p(a){d?a(z):B.push(a);return p}var h,b,a,g="undefined"!==typeof window&&window.document,d=!g,z=g?document:null,B=[];if(g){if(document.addEventListener)document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1);else if(window.attachEvent){window.attachEvent("onload",c);b=document.createElement("div");try{h=null===window.frameElement}catch(q){}b.doScroll&&
h&&window.external&&(a=setInterval(function(){try{b.doScroll(),c()}catch(a){}},30))}"complete"===document.readyState&&c()}p.version="2.0.1";p.load=function(a,b,d,g){g.isBuild?d(null):p(d)};return p});
define("i18n","jquery en-locale plurr common json2 domReady!".split(" "),function(c,p,h){Evernote||(window.Evernote={});Evernote.i18n||(Evernote.i18n={});var b=Evernote.i18n;b.isFunction=function(a){return"undefined"!==typeof a&&"function"===typeof a};Evernote.i18n.onReady=function(a){b.defer.done(a)};Evernote.i18n.runReady=function(){b.defer.resolve(b)};b.defer=c.Deferred();if(!b.messages||c.isEmptyObject(b.messages))b.messages=window.__EVERNOTE_I18N__;b.runReady();b.LArray=function(a,b){function d(a,
w){return b[w]?b[w]:""}for(var c=0,p=b.length;c<p;++c)a=a.replace(/\{\{ ([0-9]+) \}\}/g,d);return a};b.LObject=function(a,b){for(var d in b)b.hasOwnProperty(d)&&(a=a.replace(new RegExp("{{ "+d+" }}","g"),b[d]));return a};b.L=function(a,b){if(this.messages==={})return null;var d="";try{d=this.messages[a]}catch(c){this.fatalError?this.fatalError(c+" on while looking up key "+a):console.log(c+" on while looking up key "+a)}return d?"[object Array]"===Object.prototype.toString.call(b)?this.LArray(d,b):
this.LObject(d,b):null};b._getPlurr=function(){if(!this._plurr){var a=p.getLocale(),a=a?a.startsWith("zh_")?"zh":"in"===a?"id":"pt_BR"===a?"pt-br":a:"en";this._plurr=new h({locale:a})}return this._plurr};b.plurr=function(a,b){var d=this.messages[a];if(!d)return console.error("Untranslated string",a),"";d=this.messages[a].replace(/\{\{ /g,"{").replace(/ \}\}/g,"}");try{return this._getPlurr().format(d,b||{})}catch(c){return console.error("Required plurr replacement variable probably not found for",
a,"\n",c),""}};return b.defer.promise()});
(function(){function c(){for(var p="",h=0;h<arguments.length;h++){var b=arguments[h];if(b){var a=typeof b;if("string"===a||"number"===a)p+=" "+b;else if(Array.isArray(b))p+=" "+c.apply(null,b);else if("object"===a)for(var g in b)b.hasOwnProperty(g)&&b[g]&&(p+=" "+g)}}return p.substr(1)}"function"===typeof define&&"object"===typeof define.amd&&define.amd?define("classnames",[],function(){return c}):"undefined"!==typeof module&&module.exports?module.exports=c:window.classNames=c})();
define("templates",["jquery","domReady!"],function(){(function(){var c=function(){function c(a){return String(a).replace(/&(?!\w+;)|[<>"']/g,function(a){return z[a]||a})}var h=Object.prototype.toString;Array.isArray=Array.isArray||function(a){return"[object Array]"==h.call(a)};var b=String.prototype.trim,a;if(b)a=function(a){return null==a?"":b.call(a)};else{var g,d;/\S/.test(" ")?(g=/^[\s\xA0]+/,d=/[\s\xA0]+$/):(g=/^\s+/,d=/\s+$/);a=function(a){return null==a?"":a.toString().replace(g,"").replace(d,
"")}}var z={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;"},B={},q=function(){};q.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":!0},context:{},render:function(a,b,d,c){c||(this.context=b,this.buffer=[]);if(this.includes("",a)){a=this.render_pragmas(a);var m=this.render_section(a,b,d);!1===m&&(m=this.render_tags(a,b,d,c));if(c)return m;this.sendLines(m)}else{if(c)return a;this.send(a)}},send:function(a){""!==a&&this.buffer.push(a)},
sendLines:function(a){if(a){a=a.split("\n");for(var b=0;b<a.length;b++)this.send(a[b])}},render_pragmas:function(a){if(!this.includes("%",a))return a;var b=this,d=this.getCachedRegex("render_pragmas",function(a,b){return new RegExp(a+"%([\\w-]+) ?([\\w]+\x3d[\\w]+)?"+b,"g")});return a.replace(d,function(a,d,x){if(!b.pragmas_implemented[d])throw{message:"This implementation of mustache doesn't understand the '"+d+"' pragma"};b.pragmas[d]={};x&&(a=x.split("\x3d"),b.pragmas[d][a[0]]=a[1]);return""})},
render_partial:function(b,d,c){b=a(b);if(!c||void 0===c[b])throw{message:"unknown_partial '"+b+"'"};return d&&"object"==typeof d[b]?this.render(c[b],d[b],c,!0):this.render(c[b],d,c,!0)},render_section:function(a,b,d){if(!this.includes("#",a)&&!this.includes("^",a))return!1;var c=this,m=this.getCachedRegex("render_section",function(a,k){return new RegExp("^([\\s\\S]*?)"+a+"(\\^|\\#)\\s*(.+)\\s*"+k+"\n*([\\s\\S]*?)"+a+"\\/\\s*\\3\\s*"+k+"\\s*([\\s\\S]*)$","g")});return a.replace(m,function(a,k,n,t,
A,w){a=k?c.render_tags(k,b,d,!0):"";w=w?c.render(w,b,d,!0):"";var m;t=c.find(t,b);"^"===n?m=!t||Array.isArray(t)&&0===t.length?c.render(A,b,d,!0):"":"#"===n&&(m=Array.isArray(t)?c.map(t,function(a){return c.render(A,c.create_context(a),d,!0)}).join(""):c.is_object(t)?c.render(A,c.create_context(t),d,!0):"function"==typeof t?t.call(b,A,function(a){return c.render(a,b,d,!0)}):t?c.render(A,b,d,!0):"");return a+m+w})},render_tags:function(a,b,d,g){var m=this,x=function(){return m.getCachedRegex("render_tags",
function(a,b){return new RegExp(a+"(\x3d|!|\x3e|\x26|\\{|%)?([^#\\^]+?)\\1?"+b+"+","g")})},k=x(),n=function(a,n,t){switch(n){case "!":return"";case "\x3d":return m.set_delimiters(t),k=x(),"";case "\x3e":return m.render_partial(t,b,d);case "{":case "\x26":return m.find(t,b);default:return c(m.find(t,b))}};a=a.split("\n");for(var t=0;t<a.length;t++)a[t]=a[t].replace(k,n,this),g||this.send(a[t]);if(g)return a.join("\n")},set_delimiters:function(a){a=a.split(" ");this.otag=this.escape_regex(a[0]);this.ctag=
this.escape_regex(a[1])},escape_regex:function(a){arguments.callee.sRE||(arguments.callee.sRE=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","g"));return a.replace(arguments.callee.sRE,"\\$1")},find:function(b,d){function c(a){return!1===a||0===a||a}b=a(b);var g;if(b.match(/([a-z_]+)\./ig)){var m=this.walk_context(b,d);c(m)&&(g=m)}else c(d[b])?g=d[b]:c(this.context[b])&&(g=this.context[b]);return"function"==typeof g?g.apply(d):void 0!==g?g:""},walk_context:function(a,b){for(var d=
a.split("."),c=void 0!=b[d[0]]?b:this.context,g=c[d.shift()];void 0!=g&&0<d.length;)c=g,g=g[d.shift()];return"function"==typeof g?g.apply(c):g},includes:function(a,b){return-1!=b.indexOf(this.otag+a)},create_context:function(a){if(this.is_object(a))return a;var b=".";this.pragmas["IMPLICIT-ITERATOR"]&&(b=this.pragmas["IMPLICIT-ITERATOR"].iterator);var d={};d[b]=a;return d},is_object:function(a){return a&&"object"==typeof a},map:function(a,b){if("function"==typeof a.map)return a.map(b);for(var d=[],
c=a.length,g=0;g<c;g++)d.push(b(a[g]));return d},getCachedRegex:function(a,b){var d=B[this.otag];d||(d=B[this.otag]={});var c=d[this.ctag];c||(c=d[this.ctag]={});(d=c[a])||(d=c[a]=b(this.otag,this.ctag));return d}};return{name:"mustache.js",version:"0.4.0",to_html:function(a,b,d,c){var g=new q;c&&(g.send=c);g.render(a,b||{},d);if(!c)return g.buffer.join("\n")}}}();(function(){function p(b){return"".trim?b.trim():b.replace(/^\s+/,"").replace(/\s+$/,"")}var h={VERSION:"0.10.2",templates:{},$:"undefined"!==
typeof window?window.jQuery||window.Zepto||null:null,addTemplate:function(b,a){if("object"===typeof b)for(var g in b)this.addTemplate(g,b[g]);else h[b]?console.error("Invalid name: "+b+"."):h.templates[b]?console.error('Template "'+b+'  " exists'):(h.templates[b]=a,h[b]=function(a,g){a=a||{};var B=c.to_html(h.templates[b],a,h.templates);return h.$&&!g?h.$(p(B)):B})},clearAll:function(){for(var b in h.templates)delete h[b];h.templates={}},refresh:function(){h.clearAll();h.grabTemplates()},grabTemplates:function(){var b,
a,c=document.getElementsByTagName("script"),d,z=[];b=0;for(a=c.length;b<a;b++)(d=c[b])&&d.innerHTML&&d.id&&("text/html"===d.type||"text/x-icanhaz"===d.type)&&(h.addTemplate(d.id,p(d.innerHTML)),z.unshift(d));b=0;for(a=z.length;b<a;b++)z[b].parentNode.removeChild(z[b])}};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=h),exports.ich=h):this.ich=h})()})();ich.grabTemplates();return ich});
define("text",["module"],function(c){var p,h,b,a,g,d=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],z=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,B=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,q="undefined"!==typeof location&&location.href,w=q&&location.protocol&&location.protocol.replace(/\:/,""),s=q&&location.hostname,u=q&&(location.port||void 0),y={},m=c.config&&c.config()||{};p={version:"2.0.10",strip:function(a){if(a){a=a.replace(z,"");var b=a.match(B);b&&(a=b[1])}else a=
"";return a},jsEscape:function(a){return a.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:m.createXhr||function(){var a,b,n;if("undefined"!==typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!==typeof ActiveXObject)for(b=0;3>b;b+=1){n=d[b];try{a=new ActiveXObject(n)}catch(c){}if(a){d=[n];break}}return a},parseName:function(a){var b,
d,c=!1,g=a.indexOf(".");b=0===a.indexOf("./")||0===a.indexOf("../");-1!==g&&(!b||1<g)?(b=a.substring(0,g),d=a.substring(g+1,a.length)):b=a;a=d||b;g=a.indexOf("!");-1!==g&&(c="strip"===a.substring(g+1),a=a.substring(0,g),d?d=a:b=a);return{moduleName:b,ext:d,strip:c}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(a,b,d,c){var g,m;g=p.xdRegExp.exec(a);if(!g)return!0;a=g[2];g=g[3];g=g.split(":");m=g[1];g=g[0];return(!a||a===b)&&(!g||g.toLowerCase()===d.toLowerCase())&&(!m&&!g||m===c)},finishLoad:function(a,
b,d,c){d=b?p.strip(d):d;m.isBuild&&(y[a]=d);c(d)},load:function(a,b,d,c){if(c.isBuild&&!c.inlineText)d();else{m.isBuild=c.isBuild;var g=p.parseName(a);c=g.moduleName+(g.ext?"."+g.ext:"");var h=b.toUrl(c),z=m.useXhr||p.useXhr;0===h.indexOf("empty:")?d():!q||z(h,w,s,u)?p.get(h,function(b){p.finishLoad(a,g.strip,b,d)},function(a){d.error&&d.error(a)}):b([c],function(a){p.finishLoad(g.moduleName+"."+g.ext,g.strip,a,d)})}},write:function(a,b,d,c){y.hasOwnProperty(b)&&(c=p.jsEscape(y[b]),d.asModule(a+"!"+
b,"define(function () { return '"+c+"';});\n"))},writeFile:function(a,b,d,c,g){b=p.parseName(b);var m=b.ext?"."+b.ext:"",h=b.moduleName+m,q=d.toUrl(b.moduleName+m)+".js";p.load(h,d,function(b){b=function(a){return c(q,a)};b.asModule=function(a,b){return c.asModule(a,q,b)};p.write(a,h,b,g)},g)}};if("node"===m.env||!m.env&&"undefined"!==typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"])h=require.nodeRequire("fs"),p.get=function(a,b,d){try{var c=h.readFileSync(a,
"utf8");0===c.indexOf("﻿")&&(c=c.substring(1));b(c)}catch(g){d(g)}};else if("xhr"===m.env||!m.env&&p.createXhr())p.get=function(a,b,d,c){var g=p.createXhr(),h;g.open("GET",a,!0);if(c)for(h in c)c.hasOwnProperty(h)&&g.setRequestHeader(h.toLowerCase(),c[h]);if(m.onXhr)m.onXhr(g,a);g.onreadystatechange=function(c){if(4===g.readyState&&(c=g.status,399<c&&600>c?(c=Error(a+" HTTP status: "+c),c.xhr=g,d(c)):b(g.responseText),m.onXhrComplete))m.onXhrComplete(g,a)};g.send(null)};else if("rhino"===m.env||!m.env&&
"undefined"!==typeof Packages&&"undefined"!==typeof java)p.get=function(a,b){var d,c,g=new java.io.File(a),m=java.lang.System.getProperty("line.separator"),g=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(g),"utf-8")),h="";try{d=new java.lang.StringBuffer;(c=g.readLine())&&c.length()&&65279===c.charAt(0)&&(c=c.substring(1));for(null!==c&&d.append(c);null!==(c=g.readLine());)d.append(m),d.append(c);h=String(d.toString())}finally{g.close()}b(h)};else if("xpconnect"===
m.env||!m.env&&"undefined"!==typeof Components&&Components.classes&&Components.interfaces)b=Components.classes,a=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),g="@mozilla.org/windows-registry-key;1"in b,p.get=function(d,c){var n,m,h,p={};g&&(d=d.replace(/\//g,"\\"));h=new FileUtils.File(d);try{n=b["@mozilla.org/network/file-input-stream;1"].createInstance(a.nsIFileInputStream),n.init(h,1,0,!1),m=b["@mozilla.org/intl/converter-input-stream;1"].createInstance(a.nsIConverterInputStream),
m.init(n,"utf-8",n.available(),a.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),m.readString(n.available(),p),m.close(),n.close(),c(p.value)}catch(q){throw Error((h&&h.path||"")+": "+q);}};return p});define("text!StripesUtils/requiredDecorator.html",[],function(){return'\x3cabbr class\x3d"Label-required" title\x3d"{{required}}"\x3e*\x3c/abbr\x3e\n'});
define("StripesFieldModifier",["jquery","i18n","classnames","templates","text!StripesUtils/requiredDecorator.html"],function(c,p,h,b,a){var g={warning:{root:"FieldState FieldState_warning",input:"FieldState-input FieldState_warning-input",message:"FieldState-message FieldState_warning-message"},error:{root:"FieldState FieldState_error",input:"error FieldState-input FieldState_error-input",message:"error-status FieldState-message FieldState_error-message"}};b.addTemplate("requiredAbbr",a);a=function(a){this.$field=
c(a);this.stateClasses=void 0};a.prototype.setRequired=function(a,g){var h=c(a);this.$field.addClass("required");this.$field.prop("required","required");this.$field.attr("aria-required","true");g&&1>h.has(".Label-required").length&&p.done(function(a){a={required:a.L("requiredAltText")};a=b.requiredAbbr(a,!0);h.append(a);h.addClass("required")})};a.prototype.removeRequired=function(a){a=c(a);this.$field.removeProp("required");this.$field.attr("aria-required","false");this.$field.hasClass("error")&&
(this.$field.nextAll(".error-status, .FieldState_warning-message").first(),this.clearState());0<a.length&&a.children(".Label-required").remove();a.removeClass("required")};a.prototype.setState=function(a,b,c){this.stateClasses=g[b];this.$field.addClass(this.stateClasses.input);this.renderMessage(a);if(void 0===this.hasState||!1===this.hasState)this.hasState=!0;c||this.setupFieldEventHandler()};a.prototype.setWarning=function(a,b){this.setState(a,"warning",b)};a.prototype.setError=function(a,b){this.setState(a,
"error",b)};a.prototype.clearState=function(){var a=this.$field.nextAll(".error-status, .FieldState_warning-message").first();this.$field.removeClass(g.warning.input+" "+g.error.input);c(a).remove()};a.prototype.removeError=function(a,b){a.animate({height:"0px",opacity:"0"},300,function(){window.parent&&window.parent.feedbackErrorRemoveCallback?window.parent.feedbackErrorRemoveCallback():window.feedbackErrorRemoveCallback&&window.feedbackErrorRemoveCallback();b.clearState()})};a.prototype.setupFieldEventHandler=
function(){var a=this.$field,b=a.nextAll(".error-status, .FieldState_warning-message").first(),c=this;if(void 0===this.hasState||!1===this.hasState)this.hasState=!0;var g=function(a){!0===c.hasState&&13!=a.which&&(c.removeError(b,c),c.hasState=!1)};a.is("select")||a.is(":checkbox")?a.bind("change",g):a.bind("keyup",g)};a.prototype.renderMessage=function(a){var b=this.$field.nextAll(".error-status, .FieldState_warning-message").first();1>b.length?(b=c("\x3cdiv/\x3e"),b.html(a),b.addClass(h(this.stateClasses.message,
this._getQaClassName())),b.insertAfter(this.$field)):b.html(a)};a.prototype._getQaClassName=function(){return"qa-ValidationError-"+this.$field.attr("name")};a.fieldStateClasses=g;return a});
(function(){function c(a,b,c){c=(c||0)-1;for(var d=a?a.length:0;++c<d;)if(a[c]===b)return c;return-1}function p(a,b){var d=typeof b;a=a.cache;if("boolean"==d||null==b)return a[b]?0:-1;"number"!=d&&"string"!=d&&(d="object");var g="number"==d?b:n+b;a=(a=a[d])&&a[g];return"object"==d?a&&-1<c(a,b)?0:-1:a?0:-1}function h(a){var b=this.cache,c=typeof a;if("boolean"==c||null==a)b[a]=!0;else{"number"!=c&&"string"!=c&&(c="object");var d="number"==c?a:n+a,b=b[c]||(b[c]={});"object"==c?(b[d]||(b[d]=[])).push(a):
b[d]=!0}}function b(a){return a.charCodeAt(0)}function a(a,b){for(var c=a.criteria,d=b.criteria,g=-1,k=c.length;++g<k;){var n=c[g],h=d[g];if(n!==h){if(n>h||"undefined"==typeof n)return 1;if(n<h||"undefined"==typeof h)return-1}}return a.index-b.index}function g(a){var b=-1,c=a.length,d=a[0],g=a[c/2|0],k=a[c-1];if(d&&"object"==typeof d&&g&&"object"==typeof g&&k&&"object"==typeof k)return!1;d=B();d["false"]=d["null"]=d["true"]=d.undefined=!1;g=B();g.array=a;g.cache=d;for(g.push=h;++b<c;)g.push(a[b]);
return g}function d(a){return"\\"+Pa[a]}function z(){return m.pop()||[]}function B(){return x.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function q(a){a.length=0;m.length<A&&m.push(a)}function w(a){var b=a.cache;b&&w(b);a.array=a.cache=a.criteria=a.object=a.number=a.string=a.value=null;x.length<A&&x.push(a)}function s(a,b,c){b||(b=0);"undefined"==typeof c&&(c=a?a.length:0);var d=-1;c=c-b||
0;for(var g=Array(0>c?0:c);++d<c;)g[d]=a[b+d];return g}function u(h){function e(a){return a&&"object"==typeof a&&!E(a)&&G.call(a,"__wrapped__")?a:new m(a)}function m(a,f){this.__chain__=!!f;this.__wrapped__=a}function x(a){function f(){if(r){var a=s(r);la.apply(a,arguments)}if(this instanceof f){var v=N(l.prototype),a=l.apply(v,a||arguments);return H(a)?a:v}return l.apply(b,a||arguments)}var l=a[0],r=a[2],b=a[4];Qa(f,a);return f}function A(a,f,l,r,b){if(l){var c=l(a);if("undefined"!=typeof c)return c}if(H(a)){var d=
I.call(a);if(!P[d])return a;var e=R[d];switch(d){case ma:case na:return new e(+a);case oa:case da:return new e(a);case pa:return c=e(a.source,Ca.exec(a)),c.lastIndex=a.lastIndex,c}}else return a;d=E(a);if(f){var g=!r;r||(r=z());b||(b=z());for(var k=r.length;k--;)if(r[k]==a)return b[k];c=d?e(a.length):{}}else c=d?s(a):Da({},a);d&&(G.call(a,"index")&&(c.index=a.index),G.call(a,"input")&&(c.input=a.input));if(!f)return c;r.push(a);b.push(c);(d?J:C)(a,function(a,v){c[v]=A(a,f,l,r,b)});g&&(q(r),q(b));
return c}function N(a,f){return H(a)?Ea(a):{}}function L(a,f,l){if("function"!=typeof a)return Sa;if("undefined"==typeof f||!("prototype"in a))return a;var r=a.__bindData__;if("undefined"==typeof r&&(qa.funcNames&&(r=!a.name),r=r||!qa.funcDecomp,!r)){var b=Mb.call(a);qa.funcNames||(r=!Nb.test(b));r||(r=ib.test(b),Qa(a,r))}if(!1===r||!0!==r&&r[1]&1)return a;switch(l){case 1:return function(l){return a.call(f,l)};case 2:return function(l,r){return a.call(f,l,r)};case 3:return function(l,r,b){return a.call(f,
l,r,b)};case 4:return function(l,r,b,Lb){return a.call(f,l,r,b,Lb)}}return jb(a,f)}function aa(a){function f(){var a=g?d:this;if(b){var v=s(b);la.apply(v,arguments)}if(c||n)if(v||(v=s(arguments)),c&&la.apply(v,c),n&&v.length<e)return r|=16,aa([l,h?r:r&-4,v,null,d,e]);v||(v=arguments);k&&(l=a[m]);return this instanceof f?(a=N(l.prototype),v=l.apply(a,v),H(v)?v:a):l.apply(a,v)}var l=a[0],r=a[1],b=a[2],c=a[3],d=a[4],e=a[5],g=r&1,k=r&2,n=r&4,h=r&8,m=l;Qa(f,a);return f}function ra(a,f){var l=-1,r=Fa(),
b=a?a.length:0,d=b>=t&&r===c,e=[];if(d){var k=g(f);k?(r=p,f=k):d=!1}for(;++l<b;)k=a[l],0>r(f,k)&&e.push(k);d&&w(f);return e}function U(a,f,l,r){r=(r||0)-1;for(var b=a?a.length:0,c=[];++r<b;){var d=a[r];if(d&&"object"==typeof d&&"number"==typeof d.length&&(E(d)||Ga(d))){f||(d=U(d,f,l));var e=-1,g=d.length,k=c.length;for(c.length+=g;++e<g;)c[k++]=d[e]}else l||c.push(d)}return c}function ea(a,f,l,r,b,c){if(l){var d=l(a,f);if("undefined"!=typeof d)return!!d}if(a===f)return 0!==a||1/a==1/f;if(!(a!==a||
a&&F[typeof a]||f&&F[typeof f]))return!1;if(null==a||null==f)return a===f;var e=I.call(a),g=I.call(f);e==sa&&(e=V);g==sa&&(g=V);if(e!=g)return!1;switch(e){case ma:case na:return+a==+f;case oa:return a!=+a?f!=+f:0==a?1/a==1/f:a==+f;case pa:case da:return a==W(f)}g=e==ta;if(!g){var k=G.call(a,"__wrapped__"),n=G.call(f,"__wrapped__");if(k||n)return ea(k?a.__wrapped__:a,n?f.__wrapped__:f,l,r,b,c);if(e!=V)return!1;e=a.constructor;k=f.constructor;if(e!=k&&!(D(e)&&e instanceof e&&D(k)&&k instanceof k)&&
"constructor"in a&&"constructor"in f)return!1}e=!b;b||(b=z());c||(c=z());for(k=b.length;k--;)if(b[k]==a)return c[k]==f;var h=0,d=!0;b.push(a);c.push(f);if(g){if(k=a.length,h=f.length,(d=h==k)||r)for(;h--;)if(g=k,n=f[h],r)for(;g--&&!(d=ea(a[g],n,l,r,b,c)););else if(!(d=ea(a[h],n,l,r,b,c)))break}else S(f,function(f,e,g){if(G.call(g,e))return h++,d=G.call(a,e)&&ea(a[e],f,l,r,b,c)}),d&&!r&&S(a,function(a,v,f){if(G.call(f,v))return d=-1<--h});b.pop();c.pop();e&&(q(b),q(c));return d}function ba(a,f,l,r,
b){(E(f)?J:C)(f,function(f,c){var d,e,g=f,k=a[c];if(f&&((e=E(f))||Ta(f))){for(g=r.length;g--;)if(d=r[g]==f){k=b[g];break}if(!d){var n;l&&(g=l(k,f),n="undefined"!=typeof g)&&(k=g);n||(k=e?E(k)?k:[]:Ta(k)?k:{});r.push(f);b.push(k);n||ba(k,f,l,r,b)}}else l&&(g=l(k,f),"undefined"==typeof g&&(g=f)),"undefined"!=typeof g&&(k=g);a[c]=k})}function Ua(a,f){return a+Ob(kb()*(f-a+1))}function Va(a,f,l){var b=-1,d=Fa(),e=a?a.length:0,k=[],n=!f&&e>=t&&d===c,h=l||n?z():k;n&&(h=g(h),d=p);for(;++b<e;){var m=a[b],
Ra=l?l(m,b,a):m;if(f?!b||h[h.length-1]!==Ra:0>d(h,Ra))(l||n)&&h.push(Ra),k.push(m)}n?(q(h.array),w(h)):l&&q(h);return k}function Wa(a){return function(f,l,b){var c={};l=e.createCallback(l,b,3);b=-1;var d=f?f.length:0;if("number"==typeof d)for(;++b<d;){var g=f[b];a(c,g,l(g,b,f),f)}else C(f,function(f,b,r){a(c,f,l(f,b,r),r)});return c}}function Q(a,f,l,b,c,d){var e=f&1,g=f&4,k=f&16,n=f&32;if(!(f&2||D(a)))throw new T;k&&!l.length&&(f&=-17,k=l=!1);n&&!b.length&&(f&=-33,n=b=!1);var h=a&&a.__bindData__;
return h&&!0!==h?(h=s(h),h[2]&&(h[2]=s(h[2])),h[3]&&(h[3]=s(h[3])),!e||h[1]&1||(h[4]=c),!e&&h[1]&1&&(f|=8),!g||h[1]&4||(h[5]=d),k&&la.apply(h[2]||(h[2]=[]),l),n&&Pb.apply(h[3]||(h[3]=[]),b),h[1]|=f,Q.apply(null,h)):(1==f||17===f?x:aa)([a,f,l,b,c,d])}function Pa(a){return Xa[a]}function Fa(){var a=(a=e.indexOf)===lb?c:a;return a}function X(a){return"function"==typeof a&&Qb.test(a)}function mb(a){var f,l;if(!a||I.call(a)!=V||(f=a.constructor,D(f)&&!(f instanceof f)))return!1;S(a,function(a,v){l=v});
return"undefined"==typeof l||G.call(a,l)}function hb(a){return nb[a]}function Ga(a){return a&&"object"==typeof a&&"number"==typeof a.length&&I.call(a)==sa||!1}function ob(a,f,l){var b=K(a),c=b.length;for(f=L(f,l,3);c--&&(l=b[c],!1!==f(a[l],l,a)););return a}function ua(a){var f=[];S(a,function(a,v){D(a)&&f.push(v)});return f.sort()}function pb(a){for(var f=-1,l=K(a),b=l.length,c={};++f<b;){var d=l[f];c[a[d]]=d}return c}function D(a){return"function"==typeof a}function H(a){return!(!a||!F[typeof a])}
function qb(a){return"number"==typeof a||a&&"object"==typeof a&&I.call(a)==oa||!1}function va(a){return"string"==typeof a||a&&"object"==typeof a&&I.call(a)==da||!1}function Ha(a){for(var f=-1,l=K(a),b=l.length,c=M(b);++f<b;)c[f]=a[l[f]];return c}function rb(a,f,l){var b=-1,c=Fa(),d=a?a.length:0,e=!1;l=(0>l?O(0,d+l):l)||0;E(a)?e=-1<c(a,f,l):"number"==typeof d?e=-1<(va(a)?a.indexOf(f,l):c(a,f,l)):C(a,function(a){if(++b>=l)return!(e=a===f)});return e}function sb(a,f,l){var b=!0;f=e.createCallback(f,
l,3);l=-1;var c=a?a.length:0;if("number"==typeof c)for(;++l<c&&(b=!!f(a[l],l,a)););else C(a,function(a,v,l){return b=!!f(a,v,l)});return b}function Ia(a,f,l){var b=[];f=e.createCallback(f,l,3);l=-1;var c=a?a.length:0;if("number"==typeof c)for(;++l<c;){var d=a[l];f(d,l,a)&&b.push(d)}else C(a,function(a,v,l){f(a,v,l)&&b.push(a)});return b}function Ya(a,f,l){f=e.createCallback(f,l,3);l=-1;var b=a?a.length:0;if("number"==typeof b)for(;++l<b;){var c=a[l];if(f(c,l,a))return c}else{var d;C(a,function(a,
v,l){if(f(a,v,l))return d=a,!1});return d}}function J(a,f,l){var b=-1,c=a?a.length:0;f=f&&"undefined"==typeof l?f:L(f,l,3);if("number"==typeof c)for(;++b<c&&!1!==f(a[b],b,a););else C(a,f);return a}function Ja(a,f,l){var b=a?a.length:0;f=f&&"undefined"==typeof l?f:L(f,l,3);if("number"==typeof b)for(;b--&&!1!==f(a[b],b,a););else{var c=K(a),b=c.length;C(a,function(a,v,l){v=c?c[--b]:--b;return f(l[v],v,l)})}return a}function wa(a,f,l){var b=-1,c=a?a.length:0;f=e.createCallback(f,l,3);if("number"==typeof c)for(var d=
M(c);++b<c;)d[b]=f(a[b],b,a);else d=[],C(a,function(a,v,l){d[++b]=f(a,v,l)});return d}function tb(a,f,l){var c=-Infinity,d=c;"function"!=typeof f&&l&&l[f]===a&&(f=null);if(null==f&&E(a)){l=-1;for(var g=a.length;++l<g;){var k=a[l];k>d&&(d=k)}}else f=null==f&&va(a)?b:e.createCallback(f,l,3),J(a,function(a,v,l){v=f(a,v,l);v>c&&(c=v,d=a)});return d}function Za(a,f,l,b){if(!a)return l;var c=3>arguments.length;f=e.createCallback(f,b,4);var d=-1,g=a.length;if("number"==typeof g)for(c&&(l=a[++d]);++d<g;)l=
f(l,a[d],d,a);else C(a,function(a,v,b){l=c?(c=!1,a):f(l,a,v,b)});return l}function ub(a,f,l,b){var c=3>arguments.length;f=e.createCallback(f,b,4);Ja(a,function(a,v,b){l=c?(c=!1,a):f(l,a,v,b)});return l}function vb(a){var f=-1,l=a?a.length:0,b=M("number"==typeof l?l:0);J(a,function(a){var v=Ua(0,++f);b[f]=b[v];b[v]=a});return b}function wb(a,f,l){var b;f=e.createCallback(f,l,3);l=-1;var c=a?a.length:0;if("number"==typeof c)for(;++l<c&&!(b=f(a[l],l,a)););else C(a,function(a,v,l){return!(b=f(a,v,l))});
return!!b}function $a(a,f,l){var b=0,c=a?a.length:0;if("number"!=typeof f&&null!=f){var d=-1;for(f=e.createCallback(f,l,3);++d<c&&f(a[d],d,a);)b++}else if(b=f,null==b||l)return a?a[0]:y;return s(a,0,xa(O(0,b),c))}function lb(a,f,b){if("number"==typeof b){var d=a?a.length:0;b=0>b?O(0,d+b):b||0}else if(b)return b=xb(a,f),a[b]===f?b:-1;return c(a,f,b)}function ab(a,f,b){if("number"!=typeof f&&null!=f){var c=0,d=-1,g=a?a.length:0;for(f=e.createCallback(f,b,3);++d<g&&f(a[d],d,a);)c++}else c=null==f||b?
1:O(0,f);return s(a,c)}function xb(a,f,b,c){var d=0,g=a?a.length:d;b=b?e.createCallback(b,c,1):Sa;for(f=b(f);d<g;)c=d+g>>>1,b(a[c])<f?d=c+1:g=c;return d}function yb(a,f,b,c){"boolean"!=typeof f&&null!=f&&(c=b,b="function"!=typeof f&&c&&c[f]===a?null:f,f=!1);null!=b&&(b=e.createCallback(b,c,3));return Va(a,f,b)}function zb(){for(var a=1<arguments.length?arguments:arguments[0],f=-1,b=a?tb(bb(a,"length")):0,c=M(0>b?0:b);++f<b;)c[f]=bb(a,f);return c}function Ab(a,f){var b=-1,c=a?a.length:0,d={};for(f||
!c||E(a[0])||(f=[]);++b<c;){var e=a[b];f?d[e]=f[b]:e&&(d[e[0]]=e[1])}return d}function jb(a,f){return 2<arguments.length?Q(a,17,s(arguments,2),null,f):Q(a,1,null,null,f)}function Bb(a,f,b){var c,d,e,g,k,h,n,m=0,p=!1,t=!0;if(!D(a))throw new T;f=O(0,f)||0;if(!0===b)var q=!0,t=!1;else H(b)&&(q=b.leading,p="maxWait"in b&&(O(f,b.maxWait)||0),t="trailing"in b?b.trailing:t);var s=function(){var b=f-($()-g);0>=b?(d&&Ka(d),b=n,d=h=n=y,b&&(m=$(),e=a.apply(k,c),h||d||(c=k=null))):h=ya(s,b)},w=function(){h&&
Ka(h);d=h=n=y;if(t||p!==f)m=$(),e=a.apply(k,c),h||d||(c=k=null)};return function(){c=arguments;g=$();k=this;n=t&&(h||!q);if(!1===p)var b=q&&!h;else{d||q||(m=g);var l=p-(g-m),u=0>=l;u?(d&&(d=Ka(d)),m=g,e=a.apply(k,c)):d||(d=ya(w,l))}u&&h?h=Ka(h):h||f===p||(h=ya(s,f));b&&(u=!0,e=a.apply(k,c));!u||h||d||(c=k=null);return e}}function Sa(a){return a}function cb(a,f,b){var c=!0,d=f&&ua(f);f&&(b||d.length)||(null==b&&(b=f),g=m,f=a,a=e,d=ua(f));!1===b?c=!1:H(b)&&"chain"in b&&(c=b.chain);var g=a,k=D(g);J(d,
function(b){var l=a[b]=f[b];k&&(g.prototype[b]=function(){var f=this.__chain__,b=this.__wrapped__,d=[b];la.apply(d,arguments);d=l.apply(a,d);if(c||f){if(b===d&&H(d))return this;d=new g(d);d.__chain__=f}return d})})}function Cb(){}function Db(a){return function(f){return f[a]}}function Eb(){return this.__wrapped__}h=h?Y.defaults(fa.Object(),h,Y.pick(fa,Rb)):fa;var M=h.Array,Sb=h.Boolean,db=h.Date,La=h.Function,za=h.Math,Tb=h.Number,ga=h.Object,Aa=h.RegExp,W=h.String,T=h.TypeError,ha=[],Fb=ga.prototype,
Ub=h._,I=Fb.toString,Qb=Aa("^"+W(I).replace(/[.*+?^${}()|[\]\\]/g,"\\$\x26").replace(/toString| for [^\]]+/g,".*?")+"$"),Vb=za.ceil,Ka=h.clearTimeout,Ob=za.floor,Mb=La.prototype.toString,ia=X(ia=ga.getPrototypeOf)&&ia,G=Fb.hasOwnProperty,la=ha.push,ya=h.setTimeout,Gb=ha.splice,Pb=ha.unshift,Hb=function(){try{var a={},f=X(f=ga.defineProperty)&&f,b=f(a,a,a)&&f}catch(c){}return b}(),Ea=X(Ea=ga.create)&&Ea,eb=X(eb=M.isArray)&&eb,Wb=h.isFinite,Xb=h.isNaN,Ma=X(Ma=ga.keys)&&Ma,O=za.max,xa=za.min,fb=h.parseInt,
kb=za.random,R={};R[ta]=M;R[ma]=Sb;R[na]=db;R[Ib]=La;R[V]=ga;R[oa]=Tb;R[pa]=Aa;R[da]=W;m.prototype=e.prototype;var qa=e.support={};qa.funcDecomp=!X(h.WinRTError)&&ib.test(u);qa.funcNames="string"==typeof La.name;e.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:Jb,variable:"",imports:{_:e}};Ea||(N=function(){function a(){}return function(f){if(H(f)){a.prototype=f;var b=new a;a.prototype=null}return b||h.Object()}}());var Qa=Hb?function(a,f){Kb.value=f;Hb(a,"__bindData__",
Kb)}:Cb,E=eb||function(a){return a&&"object"==typeof a&&"number"==typeof a.length&&I.call(a)==ta||!1},Yb=function(a){var f,b=[];if(!a||!F[typeof a])return b;for(f in a)G.call(a,f)&&b.push(f);return b},K=Ma?function(a){return H(a)?Ma(a):[]}:Yb,Xa={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;"},nb=pb(Xa),Zb=Aa("("+K(nb).join("|")+")","g"),$b=Aa("["+K(Xa).join("")+"]","g"),Da=function(a,f,b){var c,d=a,e=d;if(!d)return e;var g=arguments,k=0,h="number"==typeof b?2:
g.length;if(3<h&&"function"==typeof g[h-2])var n=L(g[--h-1],g[h--],2);else 2<h&&"function"==typeof g[h-1]&&(n=g[--h]);for(;++k<h;)if((d=g[k])&&F[typeof d])for(var m=-1,p=F[typeof d]&&K(d),t=p?p.length:0;++m<t;)c=p[m],e[c]=n?n(e[c],d[c]):d[c];return e},gb=function(a,f,b){var c,d=a,e=d;if(!d)return e;for(var g=arguments,k=0,h="number"==typeof b?2:g.length;++k<h;)if((d=g[k])&&F[typeof d])for(var n=-1,m=F[typeof d]&&K(d),p=m?m.length:0;++n<p;)c=m[n],"undefined"==typeof e[c]&&(e[c]=d[c]);return e},S=function(a,
f,b){var c;if(!a||!F[typeof a])return a;f=f&&"undefined"==typeof b?f:L(f,b,3);for(c in a)if(!1===f(a[c],c,a))break;return a},C=function(a,f,b){if(!a||!F[typeof a])return a;f=f&&"undefined"==typeof b?f:L(f,b,3);for(var c=-1,d=F[typeof a]&&K(a),e=d?d.length:0;++c<e&&(b=d[c],!1!==f(a[b],b,a)););return a},Ta=ia?function(a){if(!a||I.call(a)!=V)return!1;var f=a.valueOf,b=X(f)&&(b=ia(f))&&ia(b);return b?a==b||ia(a)==b:mb(a)}:mb,ac=Wa(function(a,f,b){G.call(a,b)?a[b]++:a[b]=1}),bc=Wa(function(a,f,b){(G.call(a,
b)?a[b]:a[b]=[]).push(f)}),cc=Wa(function(a,f,b){a[b]=f}),bb=wa,$=X($=db.now)&&$||function(){return(new db).getTime()},ec=8==fb(Z+"08")?fb:function(a,f){return fb(va(a)?a.replace(dc,""):a,f||0)};e.after=function(a,f){if(!D(f))throw new T;return function(){if(1>--a)return f.apply(this,arguments)}};e.assign=Da;e.at=function(a){for(var f=arguments,b=-1,c=U(f,!0,!1,1),f=f[2]&&f[2][f[1]]===a?1:c.length,d=M(f);++b<f;)d[b]=a[c[b]];return d};e.bind=jb;e.bindAll=function(a){for(var f=1<arguments.length?U(arguments,
!0,!1,1):ua(a),b=-1,c=f.length;++b<c;){var d=f[b];a[d]=Q(a[d],1,null,null,a)}return a};e.bindKey=function(a,b){return 2<arguments.length?Q(b,19,s(arguments,2),null,a):Q(b,3,null,null,a)};e.chain=function(a){a=new m(a);a.__chain__=!0;return a};e.compact=function(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d};e.compose=function(){for(var a=arguments,b=a.length;b--;)if(!D(a[b]))throw new T;return function(){for(var b=arguments,f=a.length;f--;)b=[a[f].apply(this,b)];return b[0]}};
e.constant=function(a){return function(){return a}};e.countBy=ac;e.create=function(a,b){var c=N(a);return b?Da(c,b):c};e.createCallback=function(a,b,c){var d=typeof a;if(null==a||"function"==d)return L(a,b,c);if("object"!=d)return Db(a);var e=K(a),g=e[0],k=a[g];return 1!=e.length||k!==k||H(k)?function(b){for(var f=e.length,c=!1;f--&&(c=ea(b[e[f]],a[e[f]],null,!0)););return c}:function(a){a=a[g];return k===a&&(0!==k||1/k==1/a)}};e.curry=function(a,b){b="number"==typeof b?b:+b||a.length;return Q(a,
4,null,null,null,b)};e.debounce=Bb;e.defaults=gb;e.defer=function(a){if(!D(a))throw new T;var b=s(arguments,1);return ya(function(){a.apply(y,b)},1)};e.delay=function(a,b){if(!D(a))throw new T;var c=s(arguments,2);return ya(function(){a.apply(y,c)},b)};e.difference=function(a){return ra(a,U(arguments,!0,!0,1))};e.filter=Ia;e.flatten=function(a,b,c,d){"boolean"!=typeof b&&null!=b&&(d=c,c="function"!=typeof b&&d&&d[b]===a?null:b,b=!1);null!=c&&(a=wa(a,c,d));return U(a,b)};e.forEach=J;e.forEachRight=
Ja;e.forIn=S;e.forInRight=function(a,b,c){var d=[];S(a,function(a,b){d.push(b,a)});var e=d.length;for(b=L(b,c,3);e--&&!1!==b(d[e--],d[e],a););return a};e.forOwn=C;e.forOwnRight=ob;e.functions=ua;e.groupBy=bc;e.indexBy=cc;e.initial=function(a,b,c){var d=0,g=a?a.length:0;if("number"!=typeof b&&null!=b){var k=g;for(b=e.createCallback(b,c,3);k--&&b(a[k],k,a);)d++}else d=null==b||c?1:b||d;return s(a,0,xa(O(0,g-d),g))};e.intersection=function(){for(var a=[],b=-1,d=arguments.length,e=z(),k=Fa(),h=k===c,
n=z();++b<d;){var m=arguments[b];if(E(m)||Ga(m))a.push(m),e.push(h&&m.length>=t&&g(b?a[b]:n))}var h=a[0],s=-1,u=h?h.length:0,x=[];a:for(;++s<u;){var A=e[0],m=h[s];if(0>(A?p(A,m):k(n,m))){b=d;for((A||n).push(m);--b;)if(A=e[b],0>(A?p(A,m):k(a[b],m)))continue a;x.push(m)}}for(;d--;)(A=e[d])&&w(A);q(e);q(n);return x};e.invert=pb;e.invoke=function(a,b){var c=s(arguments,2),d=-1,e="function"==typeof b,g=a?a.length:0,k=M("number"==typeof g?g:0);J(a,function(a){k[++d]=(e?b:a[b]).apply(a,c)});return k};e.keys=
K;e.map=wa;e.mapValues=function(a,b,c){var d={};b=e.createCallback(b,c,3);C(a,function(a,c,l){d[c]=b(a,c,l)});return d};e.max=tb;e.memoize=function(a,b){if(!D(a))throw new T;var c=function(){var d=c.cache,e=b?b.apply(this,arguments):n+arguments[0];return G.call(d,e)?d[e]:d[e]=a.apply(this,arguments)};c.cache={};return c};e.merge=function(a){var b=arguments,c=2;if(!H(a))return a;"number"!=typeof b[2]&&(c=b.length);if(3<c&&"function"==typeof b[c-2])var d=L(b[--c-1],b[c--],2);else 2<c&&"function"==typeof b[c-
1]&&(d=b[--c]);for(var b=s(arguments,1,c),e=-1,g=z(),k=z();++e<c;)ba(a,b[e],d,g,k);q(g);q(k);return a};e.min=function(a,f,c){var d=Infinity,g=d;"function"!=typeof f&&c&&c[f]===a&&(f=null);if(null==f&&E(a)){c=-1;for(var k=a.length;++c<k;){var h=a[c];h<g&&(g=h)}}else f=null==f&&va(a)?b:e.createCallback(f,c,3),J(a,function(a,b,c){b=f(a,b,c);b<d&&(d=b,g=a)});return g};e.omit=function(a,b,c){var d={};if("function"!=typeof b){var g=[];S(a,function(a,b){g.push(b)});for(var g=ra(g,U(arguments,!0,!1,1)),k=
-1,h=g.length;++k<h;){var n=g[k];d[n]=a[n]}}else b=e.createCallback(b,c,3),S(a,function(a,c,e){b(a,c,e)||(d[c]=a)});return d};e.once=function(a){var b,c;if(!D(a))throw new T;return function(){if(b)return c;b=!0;c=a.apply(this,arguments);a=null;return c}};e.pairs=function(a){for(var b=-1,c=K(a),d=c.length,e=M(d);++b<d;){var g=c[b];e[b]=[g,a[g]]}return e};e.partial=function(a){return Q(a,16,s(arguments,1))};e.partialRight=function(a){return Q(a,32,null,s(arguments,1))};e.pick=function(a,b,c){var d=
{};if("function"!=typeof b)for(var g=-1,k=U(arguments,!0,!1,1),h=H(a)?k.length:0;++g<h;){var n=k[g];n in a&&(d[n]=a[n])}else b=e.createCallback(b,c,3),S(a,function(a,c,e){b(a,c,e)&&(d[c]=a)});return d};e.pluck=bb;e.property=Db;e.pull=function(a){for(var b=arguments,c=0,d=b.length,e=a?a.length:0;++c<d;)for(var g=-1,k=b[c];++g<e;)a[g]===k&&(Gb.call(a,g--,1),e--);return a};e.range=function(a,b,c){a=+a||0;c="number"==typeof c?c:+c||1;null==b&&(b=a,a=0);var d=-1;b=O(0,Vb((b-a)/(c||1)));for(var e=M(b);++d<
b;)e[d]=a,a+=c;return e};e.reject=function(a,b,c){b=e.createCallback(b,c,3);return Ia(a,function(a,c,d){return!b(a,c,d)})};e.remove=function(a,b,c){var d=-1,g=a?a.length:0,k=[];for(b=e.createCallback(b,c,3);++d<g;)c=a[d],b(c,d,a)&&(k.push(c),Gb.call(a,d--,1),g--);return k};e.rest=ab;e.shuffle=vb;e.sortBy=function(b,c,d){var g=-1,k=E(c),h=b?b.length:0,n=M("number"==typeof h?h:0);k||(c=e.createCallback(c,d,3));J(b,function(a,b,d){var e=n[++g]=B();k?e.criteria=wa(c,function(b){return a[b]}):(e.criteria=
z())[0]=c(a,b,d);e.index=g;e.value=a});h=n.length;for(n.sort(a);h--;)b=n[h],n[h]=b.value,k||q(b.criteria),w(b);return n};e.tap=function(a,b){b(a);return a};e.throttle=function(a,b,c){var d=!0,e=!0;if(!D(a))throw new T;!1===c?d=!1:H(c)&&(d="leading"in c?c.leading:d,e="trailing"in c?c.trailing:e);Na.leading=d;Na.maxWait=b;Na.trailing=e;return Bb(a,b,Na)};e.times=function(a,b,c){a=-1<(a=+a)?a:0;var d=-1,e=M(a);for(b=L(b,c,1);++d<a;)e[d]=b(d);return e};e.toArray=function(a){return a&&"number"==typeof a.length?
s(a):Ha(a)};e.transform=function(a,b,c,d){var g=E(a);if(null==c)if(g)c=[];else{var k=a&&a.constructor;c=N(k&&k.prototype)}b&&(b=e.createCallback(b,d,4),(g?J:C)(a,function(a,d,e){return b(c,a,d,e)}));return c};e.union=function(){return Va(U(arguments,!0,!0))};e.uniq=yb;e.values=Ha;e.where=Ia;e.without=function(a){return ra(a,s(arguments,1))};e.wrap=function(a,b){return Q(b,16,[a])};e.xor=function(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(E(c)||Ga(c))var d=d?Va(ra(d,c).concat(ra(c,
d))):c}return d||[]};e.zip=zb;e.zipObject=Ab;e.collect=wa;e.drop=ab;e.each=J;e.eachRight=Ja;e.extend=Da;e.methods=ua;e.object=Ab;e.select=Ia;e.tail=ab;e.unique=yb;e.unzip=zb;cb(e);e.clone=function(a,b,c,d){"boolean"!=typeof b&&null!=b&&(d=c,c=b,b=!1);return A(a,b,"function"==typeof c&&L(c,d,1))};e.cloneDeep=function(a,b,c){return A(a,!0,"function"==typeof b&&L(b,c,1))};e.contains=rb;e.escape=function(a){return null==a?"":W(a).replace($b,Pa)};e.every=sb;e.find=Ya;e.findIndex=function(a,b,c){var d=
-1,g=a?a.length:0;for(b=e.createCallback(b,c,3);++d<g;)if(b(a[d],d,a))return d;return-1};e.findKey=function(a,b,c){var d;b=e.createCallback(b,c,3);C(a,function(a,c,e){if(b(a,c,e))return d=c,!1});return d};e.findLast=function(a,b,c){var d;b=e.createCallback(b,c,3);Ja(a,function(a,c,e){if(b(a,c,e))return d=a,!1});return d};e.findLastIndex=function(a,b,c){var d=a?a.length:0;for(b=e.createCallback(b,c,3);d--;)if(b(a[d],d,a))return d;return-1};e.findLastKey=function(a,b,c){var d;b=e.createCallback(b,c,
3);ob(a,function(a,c,e){if(b(a,c,e))return d=c,!1});return d};e.has=function(a,b){return a?G.call(a,b):!1};e.identity=Sa;e.indexOf=lb;e.isArguments=Ga;e.isArray=E;e.isBoolean=function(a){return!0===a||!1===a||a&&"object"==typeof a&&I.call(a)==ma||!1};e.isDate=function(a){return a&&"object"==typeof a&&I.call(a)==na||!1};e.isElement=function(a){return a&&1===a.nodeType||!1};e.isEmpty=function(a){var b=!0;if(!a)return b;var c=I.call(a),d=a.length;if(c==ta||c==da||c==sa||c==V&&"number"==typeof d&&D(a.splice))return!d;
C(a,function(){return b=!1});return b};e.isEqual=function(a,b,c,d){return ea(a,b,"function"==typeof c&&L(c,d,2))};e.isFinite=function(a){return Wb(a)&&!Xb(parseFloat(a))};e.isFunction=D;e.isNaN=function(a){return qb(a)&&a!=+a};e.isNull=function(a){return null===a};e.isNumber=qb;e.isObject=H;e.isPlainObject=Ta;e.isRegExp=function(a){return a&&"object"==typeof a&&I.call(a)==pa||!1};e.isString=va;e.isUndefined=function(a){return"undefined"==typeof a};e.lastIndexOf=function(a,b,c){var d=a?a.length:0;
for("number"==typeof c&&(d=(0>c?O(0,d+c):xa(c,d-1))+1);d--;)if(a[d]===b)return d;return-1};e.mixin=cb;e.noConflict=function(){h._=Ub;return this};e.noop=Cb;e.now=$;e.parseInt=ec;e.random=function(a,b,c){var d=null==a,e=null==b;null==c&&("boolean"==typeof a&&e?(c=a,a=1):e||"boolean"!=typeof b||(c=b,e=!0));d&&e&&(b=1);a=+a||0;e?(b=a,a=0):b=+b||0;return c||a%1||b%1?(c=kb(),xa(a+c*(b-a+parseFloat("1e-"+((c+"").length-1))),b)):Ua(a,b)};e.reduce=Za;e.reduceRight=ub;e.result=function(a,b){if(a){var c=a[b];
return D(c)?a[b]():c}};e.runInContext=u;e.size=function(a){var b=a?a.length:0;return"number"==typeof b?b:K(a).length};e.some=wb;e.sortedIndex=xb;e.template=function(a,b,c){var g=e.templateSettings;a=W(a||"");c=gb({},c,g);var k=gb({},c.imports,g.imports),g=K(k),k=Ha(k),h,n=0,m=c.interpolate||Oa,p="__p +\x3d '",m=Aa((c.escape||Oa).source+"|"+m.source+"|"+(m===Jb?ka:Oa).source+"|"+(c.evaluate||Oa).source+"|$","g");a.replace(m,function(b,c,f,e,g,k){f||(f=e);p+=a.slice(n,k).replace(fc,d);c&&(p+="' +\n__e("+
c+") +\n'");g&&(h=!0,p+="';\n"+g+";\n__p +\x3d '");f&&(p+="' +\n((__t \x3d ("+f+")) \x3d\x3d null ? '' : __t) +\n'");n=k+b.length;return b});var p=p+"';\n",t=m=c.variable;t||(m="obj",p="with ("+m+") {\n"+p+"\n}\n");p=(h?p.replace(Ba,""):p).replace(ja,"$1").replace(ca,"$1;");p="function("+m+") {\n"+(t?"":m+" || ("+m+" \x3d {});\n")+"var __t, __p \x3d '', __e \x3d _.escape"+(h?", __j \x3d Array.prototype.join;\nfunction print() { __p +\x3d __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";c="\n/*\n//# sourceURL\x3d"+
(c.sourceURL||"/lodash/template/source["+gc++ +"]")+"\n*/";try{var q=La(g,"return "+p+c).apply(y,k)}catch(s){throw s.source=p,s;}if(b)return q(b);q.source=p;return q};e.unescape=function(a){return null==a?"":W(a).replace(Zb,hb)};e.uniqueId=function(a){var b=++k;return W(null==a?"":a)+b};e.all=sb;e.any=wb;e.detect=Ya;e.findWhere=Ya;e.foldl=Za;e.foldr=ub;e.include=rb;e.inject=Za;cb(function(){var a={};C(e,function(b,c){e.prototype[c]||(a[c]=b)});return a}(),!1);e.first=$a;e.last=function(a,b,c){var d=
0,g=a?a.length:0;if("number"!=typeof b&&null!=b){var k=g;for(b=e.createCallback(b,c,3);k--&&b(a[k],k,a);)d++}else if(d=b,null==d||c)return a?a[g-1]:y;return s(a,O(0,g-d))};e.sample=function(a,b,c){a&&"number"!=typeof a.length&&(a=Ha(a));if(null==b||c)return a?a[Ua(0,a.length-1)]:y;a=vb(a);a.length=xa(O(0,b),a.length);return a};e.take=$a;e.head=$a;C(e,function(a,b){var c="sample"!==b;e.prototype[b]||(e.prototype[b]=function(b,d){var e=this.__chain__,f=a(this.__wrapped__,b,d);return e||null!=b&&(!d||
c&&"function"==typeof b)?new m(f,e):f})});e.VERSION="2.4.1";e.prototype.chain=function(){this.__chain__=!0;return this};e.prototype.toString=function(){return W(this.__wrapped__)};e.prototype.value=Eb;e.prototype.valueOf=Eb;J(["join","pop","shift"],function(a){var b=ha[a];e.prototype[a]=function(){var a=this.__chain__,c=b.apply(this.__wrapped__,arguments);return a?new m(c,a):c}});J(["push","reverse","sort","unshift"],function(a){var b=ha[a];e.prototype[a]=function(){b.apply(this.__wrapped__,arguments);
return this}});J(["concat","slice","splice"],function(a){var b=ha[a];e.prototype[a]=function(){return new m(b.apply(this.__wrapped__,arguments),this.__chain__)}});return e}var y,m=[],x=[],k=0,n=+new Date+"",t=75,A=40,Z=" \t\x0B\f ﻿\n\r\u2028\u2029 ᠎             　",Ba=/\b__p \+= '';/g,ja=/\b(__p \+=) '' \+/g,ca=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ka=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ca=/\w*$/,Nb=/^\s*function[ \n\r\t]+\w/,Jb=/<%=([\s\S]+?)%>/g,dc=RegExp("^["+Z+"]*0+(?\x3d.$)"),Oa=/($^)/,ib=/\bthis\b/,
fc=/['\n\r\t\u2028\u2029\\]/g,Rb="Array Boolean Date Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setTimeout".split(" "),gc=0,sa="[object Arguments]",ta="[object Array]",ma="[object Boolean]",na="[object Date]",Ib="[object Function]",oa="[object Number]",V="[object Object]",pa="[object RegExp]",da="[object String]",P={};P[Ib]=!1;P[sa]=P[ta]=P[ma]=P[na]=P[oa]=P[V]=P[pa]=P[da]=!0;var Na={leading:!1,maxWait:0,trailing:!1},Kb={configurable:!1,enumerable:!1,
value:null,writable:!1},F={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},Pa={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},fa=F[typeof window]&&window||this,aa=F[typeof exports]&&exports&&!exports.nodeType&&exports,ba=F[typeof module]&&module&&!module.nodeType&&module,hb=ba&&ba.exports===aa&&aa,N=F[typeof global]&&global;!N||N.global!==N&&N.window!==N||(fa=N);var Y=u();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(fa._=
Y,define("lodash",[],function(){return Y})):aa&&ba?hb?(ba.exports=Y)._=Y:aa._=Y:fa._=Y}).call(this);
define("ga-util",["jquery","lodash"],function(c,p){return function(c){function b(g){if(a[g])return a[g].exports;var d=a[g]={i:g,l:!1,exports:{}};c[g].call(d.exports,d,d.exports,b);d.l=!0;return d.exports}var a={};b.m=c;b.c=a;b.i=function(a){return a};b.d=function(a,c,h){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:h})};b.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};b.d(c,"a",c);return c};b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,
b)};b.p="";return b(b.s=216)}({216:function(c,b,a){Object.defineProperty(b,"__esModule",{value:!0});var g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},d=a(73),p=d&&d.__esModule?d:{"default":d},B=(a=a(89))&&a.__esModule?a:{"default":a},q={},w=void 0,s=void 0,u=function(){return window.ga||function(){window.console&&window.console.log("DEBUG: GA not found on window.")}},
y=function(){w||u()("require","ecommerce","ecommerce.js");w=!0},m=function(){s||u()("require","ec");s=!0};q._send=function(a){var b=p["default"].Deferred();if("object"!==("undefined"===typeof a?"undefined":g(a))||!("event"!==a.hitType||a.eventCategory&&a.eventAction))return b.reject(),b.promise();var c=setTimeout(function(){"resolved"!==b.state()&&b.reject()},a.timeout||5E3);a=B["default"].cloneDeep(a);B["default"].extend(a,{hitCallback:function(){clearTimeout(c);"resolved"!==b.state()&&b.resolve()}});
u()("send",a);return b.promise()};var x=function(a){return q._send(a)};q.trackEvent=function(a,b,c,d,h){"object"!==("undefined"===typeof a?"undefined":g(a))&&(a={category:a,action:b,label:c,value:d,extraParameters:h});b={hitType:"event",eventCategory:a.category,eventAction:a.action,eventLabel:a.label};a.timeout&&(b.timeout=a.timeout);"number"===typeof a.value&&(b.eventValue=a.value);var m=p["default"].Deferred();x(p["default"].extend(b,a.extraParameters)).then(function(){m.resolve()},function(){m.reject()});
window.utag&&(a={event_name:"ga_pilot","property.category":b.eventCategory,"property.action":b.eventAction,"property.label":b.eventLabel},window.__EVERNOTE_TEALIUM_GLOBAL_USER_ID__&&(a["property.global_user_id"]=window.__EVERNOTE_TEALIUM_GLOBAL_USER_ID__),window.utag.link(a));return m.promise()};q.trackEventWithTimeout=function(a,b,c,d,g,h){return this.trackEvent({category:a,action:b,label:c,value:d,extraParameters:g,timeout:h})};q.trackLink=function(a,b,c,d,g,h){return q.trackEvent(a,b,c,g,h).always(function(){d&&
(0===d.indexOf("mailto:")?window.top.location.href=d:window.location.href=d)})};q.set=function(a,b){u()("set",a,b)};q.trackUserTiming=function(a,b,c,d,g){return x(p["default"].extend({hitType:"timing",timingCategory:a,timingVar:b,timingValue:Number(c),timingLabel:d},g))};q.trackPageview=function(a,b){return x(p["default"].extend({hitType:"pageview",page:a},b))};q.addTrans=function(a){y();var b={id:a.id,revenue:a.total};a.affiliation&&(b.affiliation=a.affiliation);a.shipping&&(b.shipping=a.shipping);
a.tax&&(b.tax=a.tax);a.currency&&(b.currency=a.currency);u()("ecommerce:addTransaction",b)};q.addItem=function(a){y();var b={id:a.transactionId,name:a.productName,sku:a.sku};a.category&&(b.category=a.category);a.unitPrice&&(b.price=a.unitPrice);a.quantity&&(b.quantity=a.quantity);u()("ecommerce:addItem",b)};q.trackTrans=function(){u()("ecommerce:send")};q.market={};q.market.addImpression=function(a){m();u("ec:addImpression",a)};q.market.trackImpressionView=function(a,b,c){m();a={hitType:"event",eventCategory:a,
eventAction:b,eventLabel:c};u()("set","nonInteraction",!0);return x(a)};q.market.trackImpressionWithProduct=function(a,b,c){m();u()("ec:setAction","detail");q.market.trackImpressionView(a,b,c)};q.market.addMarketProduct=function(a){m();u()("ec:addProduct",a)};q.market.addMarketProductClick=function(a){m();q.market.addMarketProduct(a);u()("ec:setAction","click",{list:a.list})};q.market.addToCartMarketProduct=function(a){m();q.market.addMarketProduct(a);u()("ec:setAction","add")};q.market.setAddProduct=
function(){m();u()("ec:setAction","add")};q.market.setRemoveProduct=function(){m();u()("ec:setAction","remove")};q.market.setAndSendCheckoutStep=function(a){m();u()("ec:setAction","checkout",{step:a});u()("send","pageview")};q.market.setAndSendPurchase=function(a){m();u()("ec:setAction","purchase",a);u()("send","pageview")};q.setupAnchorTrackingEvent=function(a,b,c){c=c||"click";var d={};d[c]=function(b){var d=a();return d&&"function"===typeof d.always?(d.always(function(){(0,p["default"])(b.target).trigger(c)}),
!1):!0};(0,p["default"])(document.body).one(d,b)};b["default"]=q;c.exports=b["default"]},73:function(h,b){h.exports=c},89:function(c,b){c.exports=p}})});define("resolve",[],function(){return{load:function(c,p,h){p([c],function(b){b&&"object"===typeof b&&"function"===typeof b.then?(b.fail(function(){h.error.apply(this,arguments)}),b.then(function(){h.apply(this,arguments)})):h(b)})}}});
require("jquery common StripesFieldModifier ga-util actionBean resolve!i18n domReady!".split(" "),function(c,p,h,b,a,g){function d(){c.ajax({type:"GET",url:c(this).attr("action"),data:c(this).serialize(),success:m,dataType:"json",error:s});return!1}function z(){x.off("submit");x.submit(d);t.val(g.L("LoginForm.continue"));t.attr("name","evaluateUsername");Ba.attr("name","evaluateUsername")}function B(){z();u(ja);u(ka);y(A);y(Z);y(ca);n.prop("disabled",!0);window.setTimeout(function(){n.keyup()},1200)}
function q(){t.attr("name","login");Ba.attr("name","login");t.val(g.L("LoginForm.login"));x.off("submit");ja.addClass("PulledIntoViewWithoutDelay");y(ca);y(A);y(Z);n.prop("disabled",!1);n.focus()}function w(a){u(A);u(Z);u(ca);Ca.text(a);y(ka)}function s(a){var b=document.open("text/html","replace");b.write(a.responseText);b.close()}function u(a){a.removeClass("PulledIntoView PulledIntoViewWithoutDelay")}function y(a){a.addClass("PulledIntoView")}function m(a){a.localizedMessage?(z(),w(a.localizedMessage)):
(Ca.text(""),a.usePasswordAuth?q():(z(),w(a.displayMessage),void 0!==a.redirectURL&&window.location.assign(a.redirectURL)))}(new h("#username")).setupFieldEventHandler();(new h("#password")).setupFieldEventHandler();var x=c("#login_form"),k=c("#username"),n=c("#password");p.blockDoubleSubmit(x);k.focus();c("#email-wrapper i.inline").hover(function(){c("#email-wrapper").addClass("visible-error")},function(){c("#email-wrapper").removeClass("visible-error")});c("#password-wrapper i.inline").hover(function(){c("#password-wrapper").addClass("visible-error")},
function(){c("#password-wrapper").removeClass("visible-error")});c(".inline .FieldState_error-message").parent().siblings("input").addClass("error");c("#email-wrapper i.inline").length&&(h.prototype.removeError=function(a,b){b.$field.removeClass("error");b.$field.next().next().html("")});var t=c("#loginButton"),A=c("#rememberMeRow"),Z=c("#forgotPasswordDiv"),Ba=c("#eventToTrigger"),ja=c("#passwordRow"),ca=c("#submitRow"),ka=c("#responseMessageRow"),Ca=c("#responseMessage");k.keydown(function(a){a=
a.keyCode||a.which;if(!a)return!1;9!==a&&B();return!0});n.keydown(function(a){return a.keyCode||a.which});0<c("#password-wrapper div.error-status").length||a.usePasswordAuth?q():a.evaluationMessage?(z(),w(a.evaluationMessage)):B();A.prop("tabindex",-1);Z.prop("tabindex",-1);ja.prop("tabindex",-1);ca.prop("tabindex",-1);ka.prop("tabindex",-1);b.trackEvent("account","login_action","view_login_screen_"+a.analyticsLoginOrigin);(0<c("#password-wrapper .error-status").length||0<c("#email-wrapper .error-status").length)&&
b.trackEvent("account","login_error","generic_error");c("#googleOauthButton").on("click",function(){b.trackEvent("account","login_action","google_openid_button_click")})});define("MinimalLoginForm",function(){});

/*

 Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 Build: `lodash modern -o ./dist/lodash.js`
 Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 Available under MIT license <http://lodash.com/license>
*/
(function(){function Q(e,c,h){h=(h||0)-1;for(var q=e?e.length:0;++h<q;)if(e[h]===c)return h;return-1}function X(e,c){var h=typeof c;e=e.cache;if("boolean"==h||null==c)return e[c]?0:-1;"number"!=h&&"string"!=h&&(h="object");var f="number"==h?c:q+c;e=(e=e[h])&&e[f];return"object"==h?e&&-1<Q(e,c)?0:-1:e?0:-1}function y(e){var c=this.cache,h=typeof e;if("boolean"==h||null==e)c[e]=!0;else{"number"!=h&&"string"!=h&&(h="object");var f="number"==h?e:q+e,c=c[h]||(c[h]={});"object"==h?(c[f]||(c[f]=[])).push(e):
c[f]=!0}}function p(e){return e.charCodeAt(0)}function s(e,c){for(var h=e.criteria,f=c.criteria,q=-1,k=h.length;++q<k;){var m=h[q],p=f[q];if(m!==p){if(m>p||"undefined"==typeof m)return 1;if(m<p||"undefined"==typeof p)return-1}}return e.index-c.index}function k(e){var c=-1,h=e.length,f=e[0],q=e[h/2|0],k=e[h-1];if(f&&"object"==typeof f&&q&&"object"==typeof q&&k&&"object"==typeof k)return!1;f=fa();f["false"]=f["null"]=f["true"]=f.undefined=!1;q=fa();q.array=e;q.cache=f;for(q.push=y;++c<h;)q.push(e[c]);
return q}function f(e){return"\\"+Pa[e]}function h(){return v.pop()||[]}function fa(){return C.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function m(e){e.length=0;v.length<Ca&&v.push(e)}function N(e){var c=e.cache;c&&N(c);e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null;C.length<Ca&&C.push(e)}function t(e,c,h){c||(c=0);"undefined"==typeof h&&(h=e?e.length:0);var f=-1;h=
h-c||0;for(var q=Array(0>h?0:h);++f<h;)q[f]=e[c+f];return q}function w(u){function c(a){return a&&"object"==typeof a&&!E(a)&&G.call(a,"__wrapped__")?a:new v(a)}function v(a,b){this.__chain__=!!b;this.__wrapped__=a}function Ca(a){function b(){if(g){var a=t(g);ma.apply(a,arguments)}if(this instanceof b){var c=C(d.prototype),a=d.apply(c,a||arguments);return H(a)?a:c}return d.apply(n,a||arguments)}var d=a[0],g=a[2],n=a[4];Qa(b,a);return b}function y(a,b,d,g,n){if(d){var c=d(a);if("undefined"!=typeof c)return c}if(H(a)){var z=
I.call(a);if(!R[z])return a;var e=T[z];switch(z){case na:case oa:return new e(+a);case pa:case ga:return new e(a);case qa:return c=e(a.source,Lb.exec(a)),c.lastIndex=a.lastIndex,c}}else return a;z=E(a);if(b){var l=!g;g||(g=h());n||(n=h());for(var B=g.length;B--;)if(g[B]==a)return n[B];c=z?e(a.length):{}}else c=z?t(a):Da({},a);z&&(G.call(a,"index")&&(c.index=a.index),G.call(a,"input")&&(c.input=a.input));if(!b)return c;g.push(a);n.push(c);(z?J:A)(a,function(a,e){c[e]=y(a,b,d,g,n)});l&&(m(g),m(n));
return c}function C(a,b){return H(a)?Ea(a):{}}function L(a,b,d){if("function"!=typeof a)return Ra;if("undefined"==typeof b||!("prototype"in a))return a;var g=a.__bindData__;if("undefined"==typeof g&&(ra.funcNames&&(g=!a.name),g=g||!ra.funcDecomp,!g)){var n=Mb.call(a);ra.funcNames||(g=!Nb.test(n));g||(g=hb.test(n),Qa(a,g))}if(!1===g||!0!==g&&g[1]&1)return a;switch(d){case 1:return function(d){return a.call(b,d)};case 2:return function(d,g){return a.call(b,d,g)};case 3:return function(d,g,n){return a.call(b,
d,g,n)};case 4:return function(d,g,n,c){return a.call(b,d,g,n,c)}}return ib(a,b)}function W(a){function b(){var a=l?e:this;if(n){var k=t(n);ma.apply(k,arguments)}if(c||x)if(k||(k=t(arguments)),c&&ma.apply(k,c),x&&k.length<r)return g|=16,W([d,f?g:g&-4,k,null,e,r]);k||(k=arguments);h&&(d=a[q]);return this instanceof b?(a=C(d.prototype),k=d.apply(a,k),H(k)?k:a):d.apply(a,k)}var d=a[0],g=a[1],n=a[2],c=a[3],e=a[4],r=a[5],l=g&1,h=g&2,x=g&4,f=g&8,q=d;Qa(b,a);return b}function sa(a,b){var d=-1,g=Fa(),n=a?
a.length:0,c=n>=Sa&&g===Q,e=[];if(c){var r=k(b);r?(g=X,b=r):c=!1}for(;++d<n;)r=a[d],0>g(b,r)&&e.push(r);c&&N(b);return e}function Y(a,b,d,g){g=(g||0)-1;for(var n=a?a.length:0,c=[];++g<n;){var e=a[g];if(e&&"object"==typeof e&&"number"==typeof e.length&&(E(e)||Ga(e))){b||(e=Y(e,b,d));var r=-1,l=e.length,h=c.length;for(c.length+=l;++r<l;)c[h++]=e[r]}else d||c.push(e)}return c}function ha(a,b,d,g,n,c){if(d){var e=d(a,b);if("undefined"!=typeof e)return!!e}if(a===b)return 0!==a||1/a==1/b;if(!(a!==a||a&&
F[typeof a]||b&&F[typeof b]))return!1;if(null==a||null==b)return a===b;var r=I.call(a),l=I.call(b);r==ta&&(r=Z);l==ta&&(l=Z);if(r!=l)return!1;switch(r){case na:case oa:return+a==+b;case pa:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case qa:case ga:return a==$(b)}l=r==ua;if(!l){var B=G.call(a,"__wrapped__"),x=G.call(b,"__wrapped__");if(B||x)return ha(B?a.__wrapped__:a,x?b.__wrapped__:b,d,g,n,c);if(r!=Z)return!1;r=a.constructor;B=b.constructor;if(r!=B&&!(D(r)&&r instanceof r&&D(B)&&B instanceof B)&&"constructor"in
a&&"constructor"in b)return!1}r=!n;n||(n=h());c||(c=h());for(B=n.length;B--;)if(n[B]==a)return c[B]==b;var f=0,e=!0;n.push(a);c.push(b);if(l){if(B=a.length,f=b.length,(e=f==B)||g)for(;f--;)if(l=B,x=b[f],g)for(;l--&&!(e=ha(a[l],x,d,g,n,c)););else if(!(e=ha(a[f],x,d,g,n,c)))break}else U(b,function(b,r,l){if(G.call(l,r))return f++,e=G.call(a,r)&&ha(a[r],b,d,g,n,c)}),e&&!g&&U(a,function(a,b,d){if(G.call(d,b))return e=-1<--f});n.pop();c.pop();r&&(m(n),m(c));return e}function ea(a,b,d,g,c){(E(b)?J:A)(b,
function(b,e){var r,l,h=b,x=a[e];if(b&&((l=E(b))||Ta(b))){for(h=g.length;h--;)if(r=g[h]==b){x=c[h];break}if(!r){var f;d&&(h=d(x,b),f="undefined"!=typeof h)&&(x=h);f||(x=l?E(x)?x:[]:Ta(x)?x:{});g.push(b);c.push(x);f||ea(x,b,d,g,c)}}else d&&(h=d(x,b),"undefined"==typeof h&&(h=b)),"undefined"!=typeof h&&(x=h);a[e]=x})}function ca(a,b){return a+Ob(jb()*(b-a+1))}function Ua(a,b,d){var g=-1,c=Fa(),e=a?a.length:0,z=[],r=!b&&e>=Sa&&c===Q,l=d||r?h():z;r&&(l=k(l),c=X);for(;++g<e;){var f=a[g],x=d?d(f,g,a):f;
if(b?!g||l[l.length-1]!==x:0>c(l,x))(d||r)&&l.push(x),z.push(f)}r?(m(l.array),N(l)):d&&m(l);return z}function Va(a){return function(b,d,g){var n={};d=c.createCallback(d,g,3);g=-1;var e=b?b.length:0;if("number"==typeof e)for(;++g<e;){var z=b[g];a(n,z,d(z,g,b),b)}else A(b,function(b,g,c){a(n,b,d(b,g,c),c)});return n}}function S(a,b,d,g,c,e){var z=b&1,r=b&4,l=b&16,h=b&32;if(!(b&2||D(a)))throw new V;l&&!d.length&&(b&=-17,l=d=!1);h&&!g.length&&(b&=-33,h=g=!1);var f=a&&a.__bindData__;return f&&!0!==f?(f=
t(f),f[2]&&(f[2]=t(f[2])),f[3]&&(f[3]=t(f[3])),!z||f[1]&1||(f[4]=c),!z&&f[1]&1&&(b|=8),!r||f[1]&4||(f[5]=e),l&&ma.apply(f[2]||(f[2]=[]),d),h&&Pb.apply(f[3]||(f[3]=[]),g),f[1]|=b,S.apply(null,f)):(1==b||17===b?Ca:W)([a,b,d,g,c,e])}function Pa(a){return Wa[a]}function Fa(){var a=(a=c.indexOf)===kb?Q:a;return a}function aa(a){return"function"==typeof a&&Qb.test(a)}function lb(a){var b,d;if(!a||I.call(a)!=Z||(b=a.constructor,D(b)&&!(b instanceof b)))return!1;U(a,function(a,b){d=b});return"undefined"==
typeof d||G.call(a,d)}function gb(a){return mb[a]}function Ga(a){return a&&"object"==typeof a&&"number"==typeof a.length&&I.call(a)==ta||!1}function nb(a,b,d){var g=K(a),c=g.length;for(b=L(b,d,3);c--&&(d=g[c],!1!==b(a[d],d,a)););return a}function va(a){var b=[];U(a,function(a,g){D(a)&&b.push(g)});return b.sort()}function ob(a){for(var b=-1,d=K(a),g=d.length,c={};++b<g;){var e=d[b];c[a[e]]=e}return c}function D(a){return"function"==typeof a}function H(a){return!(!a||!F[typeof a])}function pb(a){return"number"==
typeof a||a&&"object"==typeof a&&I.call(a)==pa||!1}function wa(a){return"string"==typeof a||a&&"object"==typeof a&&I.call(a)==ga||!1}function Ha(a){for(var b=-1,d=K(a),g=d.length,c=O(g);++b<g;)c[b]=a[d[b]];return c}function qb(a,b,d){var g=-1,c=Fa(),e=a?a.length:0,z=!1;d=(0>d?P(0,e+d):d)||0;E(a)?z=-1<c(a,b,d):"number"==typeof e?z=-1<(wa(a)?a.indexOf(b,d):c(a,b,d)):A(a,function(a){if(++g>=d)return!(z=a===b)});return z}function rb(a,b,d){var g=!0;b=c.createCallback(b,d,3);d=-1;var n=a?a.length:0;if("number"==
typeof n)for(;++d<n&&(g=!!b(a[d],d,a)););else A(a,function(a,d,c){return g=!!b(a,d,c)});return g}function Ia(a,b,d){var g=[];b=c.createCallback(b,d,3);d=-1;var n=a?a.length:0;if("number"==typeof n)for(;++d<n;){var e=a[d];b(e,d,a)&&g.push(e)}else A(a,function(a,d,c){b(a,d,c)&&g.push(a)});return g}function Xa(a,b,d){b=c.createCallback(b,d,3);d=-1;var g=a?a.length:0;if("number"==typeof g)for(;++d<g;){var n=a[d];if(b(n,d,a))return n}else{var e;A(a,function(a,d,g){if(b(a,d,g))return e=a,!1});return e}}
function J(a,b,d){var g=-1,c=a?a.length:0;b=b&&"undefined"==typeof d?b:L(b,d,3);if("number"==typeof c)for(;++g<c&&!1!==b(a[g],g,a););else A(a,b);return a}function Ja(a,b,d){var g=a?a.length:0;b=b&&"undefined"==typeof d?b:L(b,d,3);if("number"==typeof g)for(;g--&&!1!==b(a[g],g,a););else{var c=K(a),g=c.length;A(a,function(a,d,e){d=c?c[--g]:--g;return b(e[d],d,e)})}return a}function xa(a,b,d){var g=-1,n=a?a.length:0;b=c.createCallback(b,d,3);if("number"==typeof n)for(var e=O(n);++g<n;)e[g]=b(a[g],g,a);
else e=[],A(a,function(a,d,c){e[++g]=b(a,d,c)});return e}function sb(a,b,d){var g=-Infinity,n=g;"function"!=typeof b&&d&&d[b]===a&&(b=null);if(null==b&&E(a)){d=-1;for(var e=a.length;++d<e;){var f=a[d];f>n&&(n=f)}}else b=null==b&&wa(a)?p:c.createCallback(b,d,3),J(a,function(a,d,c){d=b(a,d,c);d>g&&(g=d,n=a)});return n}function Ya(a,b,d,g){if(!a)return d;var n=3>arguments.length;b=c.createCallback(b,g,4);var e=-1,f=a.length;if("number"==typeof f)for(n&&(d=a[++e]);++e<f;)d=b(d,a[e],e,a);else A(a,function(a,
g,c){d=n?(n=!1,a):b(d,a,g,c)});return d}function tb(a,b,d,g){var n=3>arguments.length;b=c.createCallback(b,g,4);Ja(a,function(a,g,c){d=n?(n=!1,a):b(d,a,g,c)});return d}function ub(a){var b=-1,d=a?a.length:0,g=O("number"==typeof d?d:0);J(a,function(a){var d=ca(0,++b);g[b]=g[d];g[d]=a});return g}function vb(a,b,d){var g;b=c.createCallback(b,d,3);d=-1;var n=a?a.length:0;if("number"==typeof n)for(;++d<n&&!(g=b(a[d],d,a)););else A(a,function(a,d,c){return!(g=b(a,d,c))});return!!g}function Za(a,b,d){var g=
0,n=a?a.length:0;if("number"!=typeof b&&null!=b){var e=-1;for(b=c.createCallback(b,d,3);++e<n&&b(a[e],e,a);)g++}else if(g=b,null==g||d)return a?a[0]:M;return t(a,0,ya(P(0,g),n))}function kb(a,b,d){if("number"==typeof d){var g=a?a.length:0;d=0>d?P(0,g+d):d||0}else if(d)return d=wb(a,b),a[d]===b?d:-1;return Q(a,b,d)}function $a(a,b,d){if("number"!=typeof b&&null!=b){var g=0,e=-1,f=a?a.length:0;for(b=c.createCallback(b,d,3);++e<f&&b(a[e],e,a);)g++}else g=null==b||d?1:P(0,b);return t(a,g)}function wb(a,
b,d,g){var e=0,f=a?a.length:e;d=d?c.createCallback(d,g,1):Ra;for(b=d(b);e<f;)g=e+f>>>1,d(a[g])<b?e=g+1:f=g;return e}function xb(a,b,d,g){"boolean"!=typeof b&&null!=b&&(g=d,d="function"!=typeof b&&g&&g[b]===a?null:b,b=!1);null!=d&&(d=c.createCallback(d,g,3));return Ua(a,b,d)}function yb(){for(var a=1<arguments.length?arguments:arguments[0],b=-1,d=a?sb(ab(a,"length")):0,g=O(0>d?0:d);++b<d;)g[b]=ab(a,b);return g}function zb(a,b){var d=-1,g=a?a.length:0,c={};for(b||!g||E(a[0])||(b=[]);++d<g;){var e=a[d];
b?c[e]=b[d]:e&&(c[e[0]]=e[1])}return c}function ib(a,b){return 2<arguments.length?S(a,17,t(arguments,2),null,b):S(a,1,null,null,b)}function Ab(a,b,d){var g,c,e,f,h,l,q,k=0,m=!1,p=!0;if(!D(a))throw new V;b=P(0,b)||0;if(!0===d)var s=!0,p=!1;else H(d)&&(s=d.leading,m="maxWait"in d&&(P(b,d.maxWait)||0),p="trailing"in d?d.trailing:p);var t=function(){var d=b-(da()-f);0>=d?(c&&Ka(c),d=q,c=l=q=M,d&&(k=da(),e=a.apply(h,g),l||c||(g=h=null))):l=za(t,d)},w=function(){l&&Ka(l);c=l=q=M;if(p||m!==b)k=da(),e=a.apply(h,
g),l||c||(g=h=null)};return function(){g=arguments;f=da();h=this;q=p&&(l||!s);if(!1===m)var d=s&&!l;else{c||s||(k=f);var v=m-(f-k),u=0>=v;u?(c&&(c=Ka(c)),k=f,e=a.apply(h,g)):c||(c=za(w,v))}u&&l?l=Ka(l):l||b===m||(l=za(t,b));d&&(u=!0,e=a.apply(h,g));!u||l||c||(g=h=null);return e}}function Ra(a){return a}function bb(a,b,d){var g=!0,e=b&&va(b);b&&(d||e.length)||(null==d&&(d=b),f=v,b=a,a=c,e=va(b));!1===d?g=!1:H(d)&&"chain"in d&&(g=d.chain);var f=a,h=D(f);J(e,function(d){var c=a[d]=b[d];h&&(f.prototype[d]=
function(){var b=this.__chain__,d=this.__wrapped__,e=[d];ma.apply(e,arguments);e=c.apply(a,e);if(g||b){if(d===e&&H(e))return this;e=new f(e);e.__chain__=b}return e})})}function Bb(){}function Cb(a){return function(b){return b[a]}}function Db(){return this.__wrapped__}u=u?ba.defaults(ia.Object(),u,ba.pick(ia,Rb)):ia;var O=u.Array,Sb=u.Boolean,cb=u.Date,La=u.Function,Aa=u.Math,Tb=u.Number,ja=u.Object,Ba=u.RegExp,$=u.String,V=u.TypeError,ka=[],Eb=ja.prototype,Ub=u._,I=Eb.toString,Qb=Ba("^"+$(I).replace(/[.*+?^${}()|[\]\\]/g,
"\\$\x26").replace(/toString| for [^\]]+/g,".*?")+"$"),Vb=Aa.ceil,Ka=u.clearTimeout,Ob=Aa.floor,Mb=La.prototype.toString,la=aa(la=ja.getPrototypeOf)&&la,G=Eb.hasOwnProperty,ma=ka.push,za=u.setTimeout,Fb=ka.splice,Pb=ka.unshift,Gb=function(){try{var a={},b=aa(b=ja.defineProperty)&&b,d=b(a,a,a)&&b}catch(g){}return d}(),Ea=aa(Ea=ja.create)&&Ea,db=aa(db=O.isArray)&&db,Wb=u.isFinite,Xb=u.isNaN,Ma=aa(Ma=ja.keys)&&Ma,P=Aa.max,ya=Aa.min,eb=u.parseInt,jb=Aa.random,T={};T[ua]=O;T[na]=Sb;T[oa]=cb;T[Hb]=La;T[Z]=
ja;T[pa]=Tb;T[qa]=Ba;T[ga]=$;v.prototype=c.prototype;var ra=c.support={};ra.funcDecomp=!aa(u.WinRTError)&&hb.test(w);ra.funcNames="string"==typeof La.name;c.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:Ib,variable:"",imports:{_:c}};Ea||(C=function(){function a(){}return function(b){if(H(b)){a.prototype=b;var d=new a;a.prototype=null}return d||u.Object()}}());var Qa=Gb?function(a,b){Jb.value=b;Gb(a,"__bindData__",Jb)}:Bb,E=db||function(a){return a&&"object"==typeof a&&
"number"==typeof a.length&&I.call(a)==ua||!1},Yb=function(a){var b,d=[];if(!a||!F[typeof a])return d;for(b in a)G.call(a,b)&&d.push(b);return d},K=Ma?function(a){return H(a)?Ma(a):[]}:Yb,Wa={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;"},mb=ob(Wa),Zb=Ba("("+K(mb).join("|")+")","g"),$b=Ba("["+K(Wa).join("")+"]","g"),Da=function(a,b,d){var g,c=a,e=c;if(!c)return e;var f=arguments,h=0,l="number"==typeof d?2:f.length;if(3<l&&"function"==typeof f[l-2])var q=L(f[--l-
1],f[l--],2);else 2<l&&"function"==typeof f[l-1]&&(q=f[--l]);for(;++h<l;)if((c=f[h])&&F[typeof c])for(var k=-1,m=F[typeof c]&&K(c),p=m?m.length:0;++k<p;)g=m[k],e[g]=q?q(e[g],c[g]):c[g];return e},fb=function(a,b,d){var g,c=a,e=c;if(!c)return e;for(var f=arguments,h=0,l="number"==typeof d?2:f.length;++h<l;)if((c=f[h])&&F[typeof c])for(var q=-1,k=F[typeof c]&&K(c),m=k?k.length:0;++q<m;)g=k[q],"undefined"==typeof e[g]&&(e[g]=c[g]);return e},U=function(a,b,d){var c;if(!a||!F[typeof a])return a;b=b&&"undefined"==
typeof d?b:L(b,d,3);for(c in a)if(!1===b(a[c],c,a))break;return a},A=function(a,b,d){if(!a||!F[typeof a])return a;b=b&&"undefined"==typeof d?b:L(b,d,3);for(var c=-1,e=F[typeof a]&&K(a),f=e?e.length:0;++c<f&&(d=e[c],!1!==b(a[d],d,a)););return a},Ta=la?function(a){if(!a||I.call(a)!=Z)return!1;var b=a.valueOf,d=aa(b)&&(d=la(b))&&la(d);return d?a==d||la(a)==d:lb(a)}:lb,ac=Va(function(a,b,d){G.call(a,d)?a[d]++:a[d]=1}),bc=Va(function(a,b,d){(G.call(a,d)?a[d]:a[d]=[]).push(b)}),cc=Va(function(a,b,d){a[d]=
b}),ab=xa,da=aa(da=cb.now)&&da||function(){return(new cb).getTime()},ec=8==eb(Kb+"08")?eb:function(a,b){return eb(wa(a)?a.replace(dc,""):a,b||0)};c.after=function(a,b){if(!D(b))throw new V;return function(){if(1>--a)return b.apply(this,arguments)}};c.assign=Da;c.at=function(a){for(var b=arguments,d=-1,c=Y(b,!0,!1,1),b=b[2]&&b[2][b[1]]===a?1:c.length,e=O(b);++d<b;)e[d]=a[c[d]];return e};c.bind=ib;c.bindAll=function(a){for(var b=1<arguments.length?Y(arguments,!0,!1,1):va(a),d=-1,c=b.length;++d<c;){var e=
b[d];a[e]=S(a[e],1,null,null,a)}return a};c.bindKey=function(a,b){return 2<arguments.length?S(b,19,t(arguments,2),null,a):S(b,3,null,null,a)};c.chain=function(a){a=new v(a);a.__chain__=!0;return a};c.compact=function(a){for(var b=-1,d=a?a.length:0,c=[];++b<d;){var e=a[b];e&&c.push(e)}return c};c.compose=function(){for(var a=arguments,b=a.length;b--;)if(!D(a[b]))throw new V;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,b)];return b[0]}};c.constant=function(a){return function(){return a}};
c.countBy=ac;c.create=function(a,b){var d=C(a);return b?Da(d,b):d};c.createCallback=function(a,b,d){var c=typeof a;if(null==a||"function"==c)return L(a,b,d);if("object"!=c)return Cb(a);var e=K(a),f=e[0],h=a[f];return 1!=e.length||h!==h||H(h)?function(b){for(var d=e.length,c=!1;d--&&(c=ha(b[e[d]],a[e[d]],null,!0)););return c}:function(a){a=a[f];return h===a&&(0!==h||1/h==1/a)}};c.curry=function(a,b){b="number"==typeof b?b:+b||a.length;return S(a,4,null,null,null,b)};c.debounce=Ab;c.defaults=fb;c.defer=
function(a){if(!D(a))throw new V;var b=t(arguments,1);return za(function(){a.apply(M,b)},1)};c.delay=function(a,b){if(!D(a))throw new V;var d=t(arguments,2);return za(function(){a.apply(M,d)},b)};c.difference=function(a){return sa(a,Y(arguments,!0,!0,1))};c.filter=Ia;c.flatten=function(a,b,d,c){"boolean"!=typeof b&&null!=b&&(c=d,d="function"!=typeof b&&c&&c[b]===a?null:b,b=!1);null!=d&&(a=xa(a,d,c));return Y(a,b)};c.forEach=J;c.forEachRight=Ja;c.forIn=U;c.forInRight=function(a,b,d){var c=[];U(a,function(a,
b){c.push(b,a)});var e=c.length;for(b=L(b,d,3);e--&&!1!==b(c[e--],c[e],a););return a};c.forOwn=A;c.forOwnRight=nb;c.functions=va;c.groupBy=bc;c.indexBy=cc;c.initial=function(a,b,d){var g=0,e=a?a.length:0;if("number"!=typeof b&&null!=b){var f=e;for(b=c.createCallback(b,d,3);f--&&b(a[f],f,a);)g++}else g=null==b||d?1:b||g;return t(a,0,ya(P(0,e-g),e))};c.intersection=function(){for(var a=[],b=-1,d=arguments.length,c=h(),e=Fa(),f=e===Q,q=h();++b<d;){var r=arguments[b];if(E(r)||Ga(r))a.push(r),c.push(f&&
r.length>=Sa&&k(b?a[b]:q))}var f=a[0],l=-1,p=f?f.length:0,s=[];a:for(;++l<p;){var t=c[0],r=f[l];if(0>(t?X(t,r):e(q,r))){b=d;for((t||q).push(r);--b;)if(t=c[b],0>(t?X(t,r):e(a[b],r)))continue a;s.push(r)}}for(;d--;)(t=c[d])&&N(t);m(c);m(q);return s};c.invert=ob;c.invoke=function(a,b){var d=t(arguments,2),c=-1,e="function"==typeof b,f=a?a.length:0,h=O("number"==typeof f?f:0);J(a,function(a){h[++c]=(e?b:a[b]).apply(a,d)});return h};c.keys=K;c.map=xa;c.mapValues=function(a,b,d){var e={};b=c.createCallback(b,
d,3);A(a,function(a,d,c){e[d]=b(a,d,c)});return e};c.max=sb;c.memoize=function(a,b){if(!D(a))throw new V;var d=function(){var c=d.cache,e=b?b.apply(this,arguments):q+arguments[0];return G.call(c,e)?c[e]:c[e]=a.apply(this,arguments)};d.cache={};return d};c.merge=function(a){var b=arguments,d=2;if(!H(a))return a;"number"!=typeof b[2]&&(d=b.length);if(3<d&&"function"==typeof b[d-2])var c=L(b[--d-1],b[d--],2);else 2<d&&"function"==typeof b[d-1]&&(c=b[--d]);for(var b=t(arguments,1,d),e=-1,f=h(),q=h();++e<
d;)ea(a,b[e],c,f,q);m(f);m(q);return a};c.min=function(a,b,d){var e=Infinity,f=e;"function"!=typeof b&&d&&d[b]===a&&(b=null);if(null==b&&E(a)){d=-1;for(var h=a.length;++d<h;){var q=a[d];q<f&&(f=q)}}else b=null==b&&wa(a)?p:c.createCallback(b,d,3),J(a,function(a,d,c){d=b(a,d,c);d<e&&(e=d,f=a)});return f};c.omit=function(a,b,d){var e={};if("function"!=typeof b){var f=[];U(a,function(a,b){f.push(b)});for(var f=sa(f,Y(arguments,!0,!1,1)),h=-1,q=f.length;++h<q;){var k=f[h];e[k]=a[k]}}else b=c.createCallback(b,
d,3),U(a,function(a,d,c){b(a,d,c)||(e[d]=a)});return e};c.once=function(a){var b,d;if(!D(a))throw new V;return function(){if(b)return d;b=!0;d=a.apply(this,arguments);a=null;return d}};c.pairs=function(a){for(var b=-1,d=K(a),c=d.length,e=O(c);++b<c;){var f=d[b];e[b]=[f,a[f]]}return e};c.partial=function(a){return S(a,16,t(arguments,1))};c.partialRight=function(a){return S(a,32,null,t(arguments,1))};c.pick=function(a,b,d){var e={};if("function"!=typeof b)for(var f=-1,h=Y(arguments,!0,!1,1),q=H(a)?
h.length:0;++f<q;){var k=h[f];k in a&&(e[k]=a[k])}else b=c.createCallback(b,d,3),U(a,function(a,d,c){b(a,d,c)&&(e[d]=a)});return e};c.pluck=ab;c.property=Cb;c.pull=function(a){for(var b=arguments,d=0,c=b.length,e=a?a.length:0;++d<c;)for(var f=-1,h=b[d];++f<e;)a[f]===h&&(Fb.call(a,f--,1),e--);return a};c.range=function(a,b,d){a=+a||0;d="number"==typeof d?d:+d||1;null==b&&(b=a,a=0);var c=-1;b=P(0,Vb((b-a)/(d||1)));for(var e=O(b);++c<b;)e[c]=a,a+=d;return e};c.reject=function(a,b,d){b=c.createCallback(b,
d,3);return Ia(a,function(a,d,c){return!b(a,d,c)})};c.remove=function(a,b,d){var e=-1,f=a?a.length:0,h=[];for(b=c.createCallback(b,d,3);++e<f;)d=a[e],b(d,e,a)&&(h.push(d),Fb.call(a,e--,1),f--);return h};c.rest=$a;c.shuffle=ub;c.sortBy=function(a,b,d){var e=-1,f=E(b),q=a?a.length:0,k=O("number"==typeof q?q:0);f||(b=c.createCallback(b,d,3));J(a,function(a,d,c){var q=k[++e]=fa();f?q.criteria=xa(b,function(b){return a[b]}):(q.criteria=h())[0]=b(a,d,c);q.index=e;q.value=a});q=k.length;for(k.sort(s);q--;)a=
k[q],k[q]=a.value,f||m(a.criteria),N(a);return k};c.tap=function(a,b){b(a);return a};c.throttle=function(a,b,d){var c=!0,e=!0;if(!D(a))throw new V;!1===d?c=!1:H(d)&&(c="leading"in d?d.leading:c,e="trailing"in d?d.trailing:e);Na.leading=c;Na.maxWait=b;Na.trailing=e;return Ab(a,b,Na)};c.times=function(a,b,d){a=-1<(a=+a)?a:0;var c=-1,e=O(a);for(b=L(b,d,1);++c<a;)e[c]=b(c);return e};c.toArray=function(a){return a&&"number"==typeof a.length?t(a):Ha(a)};c.transform=function(a,b,d,e){var f=E(a);if(null==
d)if(f)d=[];else{var h=a&&a.constructor;d=C(h&&h.prototype)}b&&(b=c.createCallback(b,e,4),(f?J:A)(a,function(a,c,e){return b(d,a,c,e)}));return d};c.union=function(){return Ua(Y(arguments,!0,!0))};c.uniq=xb;c.values=Ha;c.where=Ia;c.without=function(a){return sa(a,t(arguments,1))};c.wrap=function(a,b){return S(b,16,[a])};c.xor=function(){for(var a=-1,b=arguments.length;++a<b;){var d=arguments[a];if(E(d)||Ga(d))var c=c?Ua(sa(c,d).concat(sa(d,c))):d}return c||[]};c.zip=yb;c.zipObject=zb;c.collect=xa;
c.drop=$a;c.each=J;c.eachRight=Ja;c.extend=Da;c.methods=va;c.object=zb;c.select=Ia;c.tail=$a;c.unique=xb;c.unzip=yb;bb(c);c.clone=function(a,b,d,c){"boolean"!=typeof b&&null!=b&&(c=d,d=b,b=!1);return y(a,b,"function"==typeof d&&L(d,c,1))};c.cloneDeep=function(a,b,d){return y(a,!0,"function"==typeof b&&L(b,d,1))};c.contains=qb;c.escape=function(a){return null==a?"":$(a).replace($b,Pa)};c.every=rb;c.find=Xa;c.findIndex=function(a,b,d){var e=-1,f=a?a.length:0;for(b=c.createCallback(b,d,3);++e<f;)if(b(a[e],
e,a))return e;return-1};c.findKey=function(a,b,d){var e;b=c.createCallback(b,d,3);A(a,function(a,d,c){if(b(a,d,c))return e=d,!1});return e};c.findLast=function(a,b,d){var e;b=c.createCallback(b,d,3);Ja(a,function(a,d,c){if(b(a,d,c))return e=a,!1});return e};c.findLastIndex=function(a,b,d){var e=a?a.length:0;for(b=c.createCallback(b,d,3);e--;)if(b(a[e],e,a))return e;return-1};c.findLastKey=function(a,b,d){var e;b=c.createCallback(b,d,3);nb(a,function(a,d,c){if(b(a,d,c))return e=d,!1});return e};c.has=
function(a,b){return a?G.call(a,b):!1};c.identity=Ra;c.indexOf=kb;c.isArguments=Ga;c.isArray=E;c.isBoolean=function(a){return!0===a||!1===a||a&&"object"==typeof a&&I.call(a)==na||!1};c.isDate=function(a){return a&&"object"==typeof a&&I.call(a)==oa||!1};c.isElement=function(a){return a&&1===a.nodeType||!1};c.isEmpty=function(a){var b=!0;if(!a)return b;var d=I.call(a),c=a.length;if(d==ua||d==ga||d==ta||d==Z&&"number"==typeof c&&D(a.splice))return!c;A(a,function(){return b=!1});return b};c.isEqual=function(a,
b,d,c){return ha(a,b,"function"==typeof d&&L(d,c,2))};c.isFinite=function(a){return Wb(a)&&!Xb(parseFloat(a))};c.isFunction=D;c.isNaN=function(a){return pb(a)&&a!=+a};c.isNull=function(a){return null===a};c.isNumber=pb;c.isObject=H;c.isPlainObject=Ta;c.isRegExp=function(a){return a&&"object"==typeof a&&I.call(a)==qa||!1};c.isString=wa;c.isUndefined=function(a){return"undefined"==typeof a};c.lastIndexOf=function(a,b,d){var c=a?a.length:0;for("number"==typeof d&&(c=(0>d?P(0,c+d):ya(d,c-1))+1);c--;)if(a[c]===
b)return c;return-1};c.mixin=bb;c.noConflict=function(){u._=Ub;return this};c.noop=Bb;c.now=da;c.parseInt=ec;c.random=function(a,b,d){var c=null==a,e=null==b;null==d&&("boolean"==typeof a&&e?(d=a,a=1):e||"boolean"!=typeof b||(d=b,e=!0));c&&e&&(b=1);a=+a||0;e?(b=a,a=0):b=+b||0;return d||a%1||b%1?(d=jb(),ya(a+d*(b-a+parseFloat("1e-"+((d+"").length-1))),b)):ca(a,b)};c.reduce=Ya;c.reduceRight=tb;c.result=function(a,b){if(a){var d=a[b];return D(d)?a[b]():d}};c.runInContext=w;c.size=function(a){var b=a?
a.length:0;return"number"==typeof b?b:K(a).length};c.some=vb;c.sortedIndex=wb;c.template=function(a,b,d){var e=c.templateSettings;a=$(a||"");d=fb({},d,e);var h=fb({},d.imports,e.imports),e=K(h),h=Ha(h),q,k=0,r=d.interpolate||Oa,l="__p +\x3d '",r=Ba((d.escape||Oa).source+"|"+r.source+"|"+(r===Ib?fc:Oa).source+"|"+(d.evaluate||Oa).source+"|$","g");a.replace(r,function(b,d,c,e,g,h){c||(c=e);l+=a.slice(k,h).replace(gc,f);d&&(l+="' +\n__e("+d+") +\n'");g&&(q=!0,l+="';\n"+g+";\n__p +\x3d '");c&&(l+="' +\n((__t \x3d ("+
c+")) \x3d\x3d null ? '' : __t) +\n'");k=h+b.length;return b});var l=l+"';\n",m=r=d.variable;m||(r="obj",l="with ("+r+") {\n"+l+"\n}\n");l=(q?l.replace(hc,""):l).replace(ic,"$1").replace(jc,"$1;");l="function("+r+") {\n"+(m?"":r+" || ("+r+" \x3d {});\n")+"var __t, __p \x3d '', __e \x3d _.escape"+(q?", __j \x3d Array.prototype.join;\nfunction print() { __p +\x3d __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";d="\n/*\n//# sourceURL\x3d"+(d.sourceURL||"/lodash/template/source["+kc++ +"]")+"\n*/";
try{var p=La(e,"return "+l+d).apply(M,h)}catch(s){throw s.source=l,s;}if(b)return p(b);p.source=l;return p};c.unescape=function(a){return null==a?"":$(a).replace(Zb,gb)};c.uniqueId=function(a){var b=++e;return $(null==a?"":a)+b};c.all=rb;c.any=vb;c.detect=Xa;c.findWhere=Xa;c.foldl=Ya;c.foldr=tb;c.include=qb;c.inject=Ya;bb(function(){var a={};A(c,function(b,d){c.prototype[d]||(a[d]=b)});return a}(),!1);c.first=Za;c.last=function(a,b,d){var e=0,f=a?a.length:0;if("number"!=typeof b&&null!=b){var h=f;
for(b=c.createCallback(b,d,3);h--&&b(a[h],h,a);)e++}else if(e=b,null==e||d)return a?a[f-1]:M;return t(a,P(0,f-e))};c.sample=function(a,b,d){a&&"number"!=typeof a.length&&(a=Ha(a));if(null==b||d)return a?a[ca(0,a.length-1)]:M;a=ub(a);a.length=ya(P(0,b),a.length);return a};c.take=Za;c.head=Za;A(c,function(a,b){var d="sample"!==b;c.prototype[b]||(c.prototype[b]=function(b,c){var e=this.__chain__,f=a(this.__wrapped__,b,c);return e||null!=b&&(!c||d&&"function"==typeof b)?new v(f,e):f})});c.VERSION="2.4.1";
c.prototype.chain=function(){this.__chain__=!0;return this};c.prototype.toString=function(){return $(this.__wrapped__)};c.prototype.value=Db;c.prototype.valueOf=Db;J(["join","pop","shift"],function(a){var b=ka[a];c.prototype[a]=function(){var a=this.__chain__,c=b.apply(this.__wrapped__,arguments);return a?new v(c,a):c}});J(["push","reverse","sort","unshift"],function(a){var b=ka[a];c.prototype[a]=function(){b.apply(this.__wrapped__,arguments);return this}});J(["concat","slice","splice"],function(a){var b=
ka[a];c.prototype[a]=function(){return new v(b.apply(this.__wrapped__,arguments),this.__chain__)}});return c}var M,v=[],C=[],e=0,q=+new Date+"",Sa=75,Ca=40,Kb=" \t\x0B\f ﻿\n\r\u2028\u2029 ᠎             　",hc=/\b__p \+= '';/g,ic=/\b(__p \+=) '' \+/g,jc=/(__e\(.*?\)|\b__t\)) \+\n'';/g,fc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Lb=/\w*$/,Nb=/^\s*function[ \n\r\t]+\w/,Ib=/<%=([\s\S]+?)%>/g,dc=RegExp("^["+Kb+"]*0+(?\x3d.$)"),Oa=/($^)/,hb=/\bthis\b/,gc=/['\n\r\t\u2028\u2029\\]/g,Rb="Array Boolean Date Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setTimeout".split(" "),
kc=0,ta="[object Arguments]",ua="[object Array]",na="[object Boolean]",oa="[object Date]",Hb="[object Function]",pa="[object Number]",Z="[object Object]",qa="[object RegExp]",ga="[object String]",R={};R[Hb]=!1;R[ta]=R[ua]=R[na]=R[oa]=R[pa]=R[Z]=R[qa]=R[ga]=!0;var Na={leading:!1,maxWait:0,trailing:!1},Jb={configurable:!1,enumerable:!1,value:null,writable:!1},F={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},Pa={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},
ia=F[typeof window]&&window||this,ea=F[typeof exports]&&exports&&!exports.nodeType&&exports,ca=F[typeof module]&&module&&!module.nodeType&&module,gb=ca&&ca.exports===ea&&ea,W=F[typeof global]&&global;!W||W.global!==W&&W.window!==W||(ia=W);var ba=w();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(ia._=ba,define("lodash",[],function(){return ba})):ea&&ca?gb?(ca.exports=ba)._=ba:ea._=ba:ia._=ba}).call(this);
define("ga-util",["jquery","lodash"],function(Q,X){return function(y){function p(k){if(s[k])return s[k].exports;var f=s[k]={i:k,l:!1,exports:{}};y[k].call(f.exports,f,f.exports,p);f.l=!0;return f.exports}var s={};p.m=y;p.c=s;p.i=function(k){return k};p.d=function(k,f,h){p.o(k,f)||Object.defineProperty(k,f,{configurable:!1,enumerable:!0,get:h})};p.n=function(k){var f=k&&k.__esModule?function(){return k["default"]}:function(){return k};p.d(f,"a",f);return f};p.o=function(k,f){return Object.prototype.hasOwnProperty.call(k,
f)};p.p="";return p(p.s=216)}({216:function(y,p,s){Object.defineProperty(p,"__esModule",{value:!0});var k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=s(73),h=f&&f.__esModule?f:{"default":f},fa=(s=s(89))&&s.__esModule?s:{"default":s},m={},N=void 0,t=void 0,w=function(){return window.ga||function(){window.console&&window.console.log("DEBUG: GA not found on window.")}},
M=function(){N||w()("require","ecommerce","ecommerce.js");N=!0},v=function(){t||w()("require","ec");t=!0};m._send=function(e){var f=h["default"].Deferred();if("object"!==("undefined"===typeof e?"undefined":k(e))||!("event"!==e.hitType||e.eventCategory&&e.eventAction))return f.reject(),f.promise();var m=setTimeout(function(){"resolved"!==f.state()&&f.reject()},e.timeout||5E3);e=fa["default"].cloneDeep(e);fa["default"].extend(e,{hitCallback:function(){clearTimeout(m);"resolved"!==f.state()&&f.resolve()}});
w()("send",e);return f.promise()};var C=function(e){return m._send(e)};m.trackEvent=function(e,f,m,p,s){"object"!==("undefined"===typeof e?"undefined":k(e))&&(e={category:e,action:f,label:m,value:p,extraParameters:s});f={hitType:"event",eventCategory:e.category,eventAction:e.action,eventLabel:e.label};e.timeout&&(f.timeout=e.timeout);"number"===typeof e.value&&(f.eventValue=e.value);var t=h["default"].Deferred();C(h["default"].extend(f,e.extraParameters)).then(function(){t.resolve()},function(){t.reject()});
window.utag&&(e={event_name:"ga_pilot","property.category":f.eventCategory,"property.action":f.eventAction,"property.label":f.eventLabel},window.__EVERNOTE_TEALIUM_GLOBAL_USER_ID__&&(e["property.global_user_id"]=window.__EVERNOTE_TEALIUM_GLOBAL_USER_ID__),window.utag.link(e));return t.promise()};m.trackEventWithTimeout=function(e,f,h,k,m,p){return this.trackEvent({category:e,action:f,label:h,value:k,extraParameters:m,timeout:p})};m.trackLink=function(e,f,h,k,p,s){return m.trackEvent(e,f,h,p,s).always(function(){k&&
(0===k.indexOf("mailto:")?window.top.location.href=k:window.location.href=k)})};m.set=function(e,f){w()("set",e,f)};m.trackUserTiming=function(e,f,k,m,p){return C(h["default"].extend({hitType:"timing",timingCategory:e,timingVar:f,timingValue:Number(k),timingLabel:m},p))};m.trackPageview=function(e,f){return C(h["default"].extend({hitType:"pageview",page:e},f))};m.addTrans=function(e){M();var f={id:e.id,revenue:e.total};e.affiliation&&(f.affiliation=e.affiliation);e.shipping&&(f.shipping=e.shipping);
e.tax&&(f.tax=e.tax);e.currency&&(f.currency=e.currency);w()("ecommerce:addTransaction",f)};m.addItem=function(e){M();var f={id:e.transactionId,name:e.productName,sku:e.sku};e.category&&(f.category=e.category);e.unitPrice&&(f.price=e.unitPrice);e.quantity&&(f.quantity=e.quantity);w()("ecommerce:addItem",f)};m.trackTrans=function(){w()("ecommerce:send")};m.market={};m.market.addImpression=function(e){v();w("ec:addImpression",e)};m.market.trackImpressionView=function(e,f,h){v();e={hitType:"event",eventCategory:e,
eventAction:f,eventLabel:h};w()("set","nonInteraction",!0);return C(e)};m.market.trackImpressionWithProduct=function(e,f,h){v();w()("ec:setAction","detail");m.market.trackImpressionView(e,f,h)};m.market.addMarketProduct=function(e){v();w()("ec:addProduct",e)};m.market.addMarketProductClick=function(e){v();m.market.addMarketProduct(e);w()("ec:setAction","click",{list:e.list})};m.market.addToCartMarketProduct=function(e){v();m.market.addMarketProduct(e);w()("ec:setAction","add")};m.market.setAddProduct=
function(){v();w()("ec:setAction","add")};m.market.setRemoveProduct=function(){v();w()("ec:setAction","remove")};m.market.setAndSendCheckoutStep=function(e){v();w()("ec:setAction","checkout",{step:e});w()("send","pageview")};m.market.setAndSendPurchase=function(e){v();w()("ec:setAction","purchase",e);w()("send","pageview")};m.setupAnchorTrackingEvent=function(e,f,k){k=k||"click";var m={};m[k]=function(f){var m=e();return m&&"function"===typeof m.always?(m.always(function(){(0,h["default"])(f.target).trigger(k)}),
!1):!0};(0,h["default"])(document.body).one(m,f)};p["default"]=m;y.exports=p["default"]},73:function(y,p){y.exports=Q},89:function(y,p){y.exports=X}})});
define("header",["jquery","common","ga-util"],function(Q,X,y){return function(p){function s(f){if(k[f])return k[f].exports;var h=k[f]={i:f,l:!1,exports:{}};p[f].call(h.exports,h,h.exports,s);h.l=!0;return h.exports}var k={};s.m=p;s.c=k;s.i=function(f){return f};s.d=function(f,h,k){s.o(f,h)||Object.defineProperty(f,h,{configurable:!1,enumerable:!0,get:k})};s.n=function(f){var h=f&&f.__esModule?function(){return f["default"]}:function(){return f};s.d(h,"a",h);return h};s.o=function(f,h){return Object.prototype.hasOwnProperty.call(f,
h)};s.p="";return s(s.s=184)}({152:function(p,s){p.exports=y},184:function(p,s,k){function f(e){return e&&e.__esModule?e:{"default":e}}p=k(73);var h=f(p);p=k(99);s=k(152);var y=f(s);k=k(97);k=f(k);var m=(0,h["default"])(".Menu"),N=(0,h["default"])(".Menu-popover");s=(0,h["default"])(".logout",m);var t=(0,h["default"])(".referral-promo"),w=(0,h["default"])(".earn-points-link"),M=(0,h["default"])("#try-it-button"),v=(0,h["default"])("#header-download-link");M.click(function(){y["default"].trackEvent("account",
"focus_beta_opt_in","header_link");h["default"].post("/Settings.action?enableBeta",function(){window.location.reload()})});t.click(function(){var e=(0,h["default"])(this).hasClass("free"),f=(0,h["default"])(this).attr("href");y["default"].trackEvent("clickEvent","Refer a Friend",e?"free":"premium").always(function(){window.location.href=f});return!1});w.click(function(){var e=(0,h["default"])(this).attr("href");y["default"].trackEvent("clickEvent","Refer a Friend","Earn Points").always(function(){window.location.href=
e});return!1});v.click(function(){y["default"].trackEvent({category:"upsells",action:"engt_web_downloadLink_WEB-45641_v1",label:"headerMenu_clicked",extraParameters:{dimension8:"1"}})});var C=function(){N.hasClass("is-active")||y["default"].trackEvent({category:"upsells",action:"engt_web_downloadLink_WEB-45641_v1",label:"headerMenu_shown",extraParameters:{dimension8:"1"}});N.toggleClass("is-active");m.toggleClass("is-active")};(0,p.addClickOut)(N,C);(0,p.blockDoubleClick)(s);k["default"]&&k["default"].headerJson&&
(p=k["default"].headerJson.downloadLinkExpGroup)&&y["default"].trackEvent({category:"split_test",action:"engt_web_downloadLink_WEB-45641_v1",label:p,extraParameters:{dimension8:"1"}});(0,h["default"])(".Menu-activator").click(function(e){e.preventDefault();e.stopPropagation();C();return!1})},2:function(p,s){var k;k=function(){return this}();try{k=k||Function("return this")()||(0,eval)("this")}catch(f){"object"===typeof window&&(k=window)}p.exports=k},73:function(p,s){p.exports=Q},97:function(p,s,
k){(function(f){Object.defineProperty(s,"__esModule",{value:!0});var h={},h=void 0===f||void 0===f.window||void 0===f.window.__EVERNOTE_ACTIONBEAN__?{__errorReadingActionBeanOnWindow:!0}:f.window.__EVERNOTE_ACTIONBEAN__;s["default"]=h;p.exports=s["default"]}).call(s,k(2))},99:function(p,s){p.exports=X}})});require(["header"],function(){});define("headerRequire",function(){});

